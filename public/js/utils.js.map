{"version":3,"sources":["tools.js","calendar.js","dialog.js","imageLayer.js","lightBox.js","linecalender.js","pages.js","renderHtml.js","roolLoading.js","toast.js","toolsExtend.js","videoLayer.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC10BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"utils.js","sourcesContent":["/**\n * Created by chengwb on 2016/8/6.\n * 备注：\n *  命名规则：函数的名称应该使用动词+名词，变量名则最好使用名词。\n *      常量区变量请全部用大写字母,且单词间用下划线链接；\n *      方法名、普通变量名请使用小驼峰命名规则，即除了第一个单词的首字母外其余单词首字母大写。\n */\n(function (global, $, undefined) {\n    global.tools = global.tools || {};\n\n    /***********************************************************\n     *********************** 常量区 *****************************\n     **********************************************************/\n    //暂无数据\n    global.tools.NO_DATA = '<p class=\"no-data\">暂无数据！</p>';\n    global.tools.NO_DATA1 = '<p class=\"no-data1\">暂无数据！</p>';\n    //获取数据失败，刷新页面\n    global.tools.TRY_REFRESH = '<p class=\"try-refresh\">获取服务器数据失败，请尝试刷新浏览器页面！</p>';\n    global.tools.TRY_REFRESH1 = '<p class=\"try-refresh1\">获取服务器数据失败，请尝试刷新浏览器页面！</p>';\n\n    /***********************************************************\n     *********************** 方法区 *****************************\n     **********************************************************/\n\n    var _prefix = '/server'; //可配置统一前缀，配合node端动态路由，请勿随意改动\n    /**\n     * 设置ajax请求地址前缀，例子：如果node后台识别的是/api开头的地址，则可以设置_prefix为‘/api’\n     * 设置后在下面的request函数中生效，所以有需求的话，请先设置前缀\n     * @param prefix 前缀字符串\n     */\n    global.tools.setAjaxPrefix = function (prefix) {\n        _prefix = prefix;\n    };\n\n    /**\n     * ajax请求，统一处理\n     * @param options 必传\n     * {\n       *  url: 接口地址，以‘/’开头，（纯url地址，参数数据可以放data里面）\n       *  method: GET PUT POST DELETE，默认GET\n       *  data: 数据,\n       *  type: true/false  (使用前缀时)是否使用电商接口  true 为使用电商接口  默认为false 使用资讯接口\n       *  prefix: true/false true使用前缀（需通过setAjaxPrefix方法设置），false不使用前缀，默认值为true\n       * }\n     * @param callback 回调方法，必传\n     */\n    global.tools.request = function(options, callback) {\n        // var prefix = _prefix ? (options.prefix !== false ? _prefix : '') : '';\n        var prefix = options.prefix !== false ? ( options.type === true ? \"/server/b/\" : \"/server/a/\"): '';\n        $.ajax({\n            url: prefix + options.url+\"?\"+ new Date().toTimeString() ,\n            type: options.method || 'GET',//GET PUT POST DELETE\n            data: options.data || {},\n            traditional: true,//{foo:[\"bar1\", \"bar2\"]} 转换为 '&foo=bar1&foo=bar2'\n            complete: function (jqXHR, textStatus) {\n                if (textStatus === 'success') {\n                    var result = $.parseJSON(jqXHR.responseText);\n                    callback(result);\n                } else if(textStatus === 'timeout') {\n                    callback({\n                        error: true,\n                        message: '服务器响应超时'\n                    });\n                } else {\n                    callback({\n                        error: true,\n                        message: '服务器错误'\n                    });\n                }\n            }\n        });\n    };\n    global.tools.requestRetailers = function(options, callback) {\n        // var prefix = _prefix ? (options.prefix !== false ? _prefix : '') : '';\n        var prefix = options.prefix !== false ? ( options.type === true ? \"/server/b/\" : \"/server/a/\"): '';\n        $.ajax({\n            url: prefix + options.url,\n            type: options.method || 'GET',//GET PUT POST DELETE\n            data: options.data || {},\n            traditional: true,//{foo:[\"bar1\", \"bar2\"]} 转换为 '&foo=bar1&foo=bar2'\n            complete: function (jqXHR, textStatus) {\n                if (textStatus === 'success') {\n                    var result = $.parseJSON(jqXHR.responseText);\n                    callback(result);\n                } else if(textStatus === 'timeout') {\n                    callback({\n                        error: true,\n                        message: '服务器响应超时'\n                    });\n                } else {\n                    callback({\n                        error: true,\n                        message: '服务器错误'\n                    });\n                }\n            }\n        });\n    };\n    /**\n     * 正在加载中提示\n     * @param option\n     *  可以是对象\n     *  {\n     *      selector: '',//选择器\n     *      position: ''//插入的位置（相对于选择器而言）before/in/after,前、中、后\n    *  }\n     *  也可以是字符串(表示selector，插入位置默认为in)\n     * @param custom 回调函数，可以加工loadTip也可以自定义提示\n     * @returns {{clean: clean}} 如果自定义loadTip则clean可能无效，需要自己根据自定义的tip进行清空处理（先使用着，待完善处理）\n     */\n    global.tools.loading = function (option, custom) {\n        var loadTip = '<div class=\"loading-tips\" style=\"\"><img src=\"image/loading.gif\"><p>数据加载中...</p></div>';\n        if (custom && $.isFunction(custom)) {\n            loadTip = custom(loadTip);\n        }\n\n        if(typeof option === 'string') {\n            $(option).append(loadTip);\n        } else {\n            switch (option.position) {\n                case 'in':\n                    $(option.selector).append(loadTip);\n                    break;\n                case 'after':\n                    $(option.selector).after(loadTip);\n                    break;\n                case 'before':\n                    $(option.selector).before(loadTip);\n                    break;\n                default:\n                    $(option.selector).append(loadTip);\n                    break;\n            }\n        }\n\n        function clean() {\n            if(typeof option === 'string') {\n                $(option + ' .loading-tips').remove();\n            } else {\n                switch (option.position) {\n                    case 'in':\n                        $(option.selector + ' .loading-tips').remove();\n                        break;\n                    case 'after':\n                    case 'before':\n                        $(option.selector).siblings('.loading-tips').remove();\n                        break;\n                    default:\n                        $(option.selector + ' .loading-tips').remove();\n                        break;\n                }\n            }\n        }\n\n        return {\n            clean: clean\n        };\n    };\n\n    /**\n     * 内容长度限制，转换为省略号结尾\n     * @param content 目标内容\n     * @param length 限制的长度\n     * @returns {*} 超过限制长度的数据则返回限制长度的字符串加上...，没超过则原文返回\n     */\n    global.tools.ellipsisContent = function (content, length) {\n        var result;\n\n        if (!content || typeof content !== 'string' ||\n            typeof length !== 'number' || content.length <= length || length <= 0) {\n            result = content;\n        } else {\n            result = content.substr(0, length) + \"...\";\n        }\n        return result;\n    };\n\n    /**\n     * 图片加载异常时调用，一般用于img中的onerror=tools.errImg(this)\n     * @param tag\n     */\n    global.tools.errImg = function (el) {\n        el.src = \"../image/list-xxentertainment-banner.jpg\";\n        el.onerror = null;\n    };\n\n    /**\n     * 瀑布流图片加载异常时调用，一般用于img中的onerror\n     * @param el 当前图片元素\n     * @param defaultHeight 设置该元素的高度，默认为bad.jpg的高度\n     */\n    global.tools.waterfallErrImg = function (el, defaultHeight) {\n        defaultHeight = defaultHeight || 240;//240px为bad.jpg的高度\n        $(el).height(defaultHeight);\n\n        el.src = \"/image/bad.jpg\";\n        el.onerror = null;\n    };\n\n    /**\n     *百度分享\n     */\n    global.tools.share = function () {\n        window._bd_share_config = {\n            \"common\": {\n                \"bdSnsKey\": {},\n                \"bdText\": \"\",\n                \"bdMini\": \"2\",\n                \"bdDesc\": \"\",\n                \"bdMiniList\": false,\n                \"bdPic\": \"\",\n                \"bdUrl\": \"\",\n                \"bdStyle\": \"2\",\n                \"bdSize\": \"16\"/*,\n                \"bdPopupOffsetLeft\": \"30\"*/\n            },\n            \"share\": {}\n        };\n        with (document)0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];\n        if(window._bd_share_main){\n            window._bd_share_main.init();\n        }\n    };\n\n    /**\n     * 日期处理，\n     * @param dataStr 需要处理的日期字符串，如果不传递则默认为当前时间\n     * @returns {{getCurrentYear: getCurrentYear, getCurrentMonth: getCurrentMonth, renderYears: renderYears, renderMonths: renderMonths}}\n     */\n    global.tools.date = function (time) {\n        var year = 1970;\n        var month = 1;\n        var day = 1;\n        var date = new Date();\n        //var reg = new RegExp(\"-\");//火狐不兼容\n\n        if (time) {\n            if (typeof time === 'string') {\n                date = new Date(time.replace(/-/g, \"/\"));\n            } else if (typeof time === 'number') {\n                date = new Date(time);\n            }\n        }\n\n        year = date.getFullYear();\n        month = date.getMonth() + 1;\n        day = date.getDate();\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var seconds = date.getSeconds();\n        var week = date.getDay();\n\n        function getCurrentYear() {\n            return year;\n        }\n\n        function getCurrentMonth() {\n            return month;\n        }\n\n        function getDay() {\n            return day;\n        }\n\n        function getHour() {\n            return hours;\n        }\n\n        function getDate(separator) {\n            return year + separator + month + separator + day;\n        }\n\n        function getTime() {\n            return (hours < 10 ? ('0' + hours) : hours) + ':' +\n                (minutes < 10 ? ('0' + minutes) : minutes) + ':' +\n                (seconds < 10 ? ('0' + seconds) : seconds);\n        }\n\n        function getWeek() {\n            var weekDesc = '星期';\n\n            switch (week) {\n                case 1:\n                    weekDesc += '一';\n                    break;\n                case 2:\n                    weekDesc += '二';\n                    break;\n                case 3:\n                    weekDesc += '三';\n                    break;\n                case 4:\n                    weekDesc += '四';\n                    break;\n                case 5:\n                    weekDesc += '五';\n                    break;\n                case 6:\n                    weekDesc += '六';\n                    break;\n                case 0:\n                    weekDesc += '日';\n                    break;\n                default:\n                    break;\n            }\n            return weekDesc;\n        }\n\n        /**\n         * 渲染select的选项\n         * @param select select的选择器\n         * @param from 从哪一年开始，不设置默认是1970\n         * @param to   到那一年，不设置默认为当前年份\n         */\n        function renderYears(select, from, to) {\n            var options = '';\n            var startYear = 1970;\n            var endYear = year;\n            var $select = $(select);\n\n            if (from && $.isNumeric(from)) {\n                startYear = from;\n            }\n            if (to && $.isNumeric(to)) {\n                endYear = to;\n            }\n\n            var i = endYear;\n            for (i; i >= startYear; i--) {\n                options += '<option value=\"' + i + '\">' + i + '年</option>';\n            }\n\n            $select.empty();\n            $select.append(options);\n        }\n\n        /**\n         * 渲染select的选项\n         * @param select select的选择器\n         * @param from 从哪一年开始，不设置默认是1970\n         * @param to   到那一年，不设置默认为当前年份\n         */\n        function renderSpecialYears(select, years) {\n            var options = '';\n            var $select = $(select);\n\n            var i = 0;\n            var length = years.length;\n            for (i = 0; i < length; i++) {\n                options += '<option value=\"' + years[i] + '\">' + years[i] + '年</option>';\n            }\n\n            $select.empty();\n            $select.append(options);\n        }\n\n        /**\n         * 渲染select中月份选项\n         * @param select select的选择器\n         * @param assignYear 指定那一年，没指定则1-12月\n         */\n        function renderMonths(select, assignYear) {\n            var options = '';\n            var startMonth = 1;\n            var endMonth = 12;\n            var $select = $(select);\n\n            if (assignYear && $.isNumeric(assignYear)) {\n                if (year == assignYear) {\n                    endMonth = month;\n                }\n            }\n\n            var i = startMonth;\n            for (i; i <= endMonth; i++) {\n                options += '<option value=\"' + i + '\">' + i + '月</option>';\n            }\n\n            $select.empty();\n            $(select).append(options);\n\n            if (assignYear && $.isNumeric(assignYear)) {\n                if (year == assignYear) {\n                    $select.val(month);\n                }\n            }\n        }\n\n        /**\n         * 格式化时间\n         * @param format 默认为'yyyy-MM-dd hh:mm'\n         * @returns {*}\n         */\n        function format(format) {\n            if(!format) {\n                format = 'yyyy-MM-dd hh:mm';\n            }\n            var time = {\n                \"M+\": month,\n                \"d+\": day,\n                \"h+\": hours,\n                \"m+\": minutes,\n                \"s+\": seconds,\n                \"q+\": Math.floor((month + 2) / 3),\n                \"S+\": date.getMilliseconds()\n            };\n            if (/(y+)/i.test(format)) {\n                format = format.replace(RegExp.$1, (year + '').substr(4 - RegExp.$1.length));\n            }\n            for (var k in time) {\n                if (new RegExp(\"(\" + k + \")\").test(format)) {\n                    format = format.replace(RegExp.$1, RegExp.$1.length === 1 ?\n                        time[k] : (\"00\" + time[k]).substr((\"\" + time[k]).length));\n                }\n            }\n            return format;\n        }\n\n        return {\n            format: format,\n            getYear: getCurrentYear,\n            getMonth: getCurrentMonth,\n            getDay: getDay,\n            getTime: getTime,\n            getDate: getDate,\n            getHour: getHour,\n            getWeek: getWeek,\n            renderYears: renderYears,\n            renderSpecialYears: renderSpecialYears,\n            renderMonths: renderMonths\n        };\n    };\n\n    /**\n     * 格式化数字，例如：12300400格式化为12,300,400\n     * @param number\n     */\n    global.tools.formatDigital = function (number) {\n        var result = number;\n\n        if (!number || !$.isNumeric(number)) {\n            return result;\n        }\n\n        var numberStr = number.toString();\n        var pointIndex = numberStr.indexOf('.');\n        var lastIndex = numberStr.length - 1;\n\n        if (pointIndex >= 0) {\n            lastIndex = pointIndex - 1;\n        }\n\n        result = '';\n        var count = 1;\n        for (var i = lastIndex; i >= 0; i--, count++) {\n            var temp = numberStr[i];\n\n            result = temp + result;\n            if (count % 3 === 0 && i !== 0) {\n                result = ',' + result;\n            }\n        }\n        return result;\n    };\n\n    /**\n     * 初始定位侧边悬浮导航。注意使用时，侧边导航栏高度请设置为auto。\n     * @param options\n     * {\n\t *  wrapper: 外框选择器（包含侧边栏和内容区）\n\t *  head：头部，没有则设置为空；\n\t *  foot: 底部，没有则设置为空；\n\t *  contentStartIndex: 内容列表有效起始索引；\n\t *  navStartIndex: 导航栏列表有效起始索引;\n\t *  sideNav: 导航栏选择器，例子id:'#nav',class:'.nav'\n\t *  sideNavEntry: 导航栏列表选择器，例子li元素：'li',class:'.entry'；（与sideNav是父子关系）\n\t *  content: 内容区选择器\n\t *  contentEntry: 内容区列表选择器（与content是父子关系）;\n\t *  selectClass: 选中的侧边导航栏的选项class，如：'curr';\n\t *  currIndex: 设置默认选中的导航栏索引,-1表示不设置；\n\t *  scrollAnimate: true则使用动画，false为不使用，默认为使用动画;\n\t *  position: 侧边导航栏原始定位方式，absolute(float布局)，relative（非float布局）\n\t * }\n     */\n    global.tools.sideNavInit = function (options) {\n        //待检查参数\n        var animate = !!options.scrollAnimate || true;\n        var headHeight = options.head ? $(options.head).height() : 0;\n        var footHeight = options.foot ? $(options.foot).height() : 0;\n        var windowHeight = $(window).height();\n        var sideNavHeight = windowHeight - headHeight;\n        var clickIndex = -1; //导航栏鼠标点击的元素的索引\n        var contentStartIndex = options.contentStartIndex;//内容列表起始索引\n        var navStartIndex = options.navStartIndex;//导航栏列表起始索引\n        var $sideNav = $(options.sideNav);\n        var sideNavInitHeight = $sideNav.height();\n        var $sideNavLi = $(options.sideNav + ' > ' + options.sideNavEntry);\n        var $contentLi = $(options.content + ' > ' + options.contentEntry);\n        var selectClass = options.selectClass;\n        var defaultIndex = options.currIndex;\n\n        var nav2HeadDistance = $sideNav.offset().top - headHeight;//侧边导航栏到头部的距离\n        var scrollDistance = 0;//滚动条滚动的距离\n\n        //设置左边导航的高度,\n        if (sideNavHeight > sideNavInitHeight) {\n            $sideNav.css(\"height\", sideNavHeight);\n        } else {\n            sideNavHeight = sideNavInitHeight + footHeight;\n            $sideNav.css(\"height\", sideNavHeight);\n        }\n\n        /**\n         * 窗口自动定位\n         */\n        function clickPosition() {\n            var targetIndex = clickIndex - navStartIndex + contentStartIndex;\n            var entryTop = $contentLi.eq(targetIndex).offset().top;\n\n            scrollWindow(entryTop, function () {\n                if (clickIndex > -1) {\n                    $sideNavLi.eq(clickIndex).addClass(selectClass).siblings('.' + selectClass).removeClass(selectClass);\n                    clickIndex = -1;\n                }\n            });\n        }\n\n        /**\n         * 滚动窗口\n         * @param scrollTop 窗口滚动的距离\n         * @param done 滚动完成后的回调\n         */\n        function scrollWindow(scrollTop, done) {\n            if (animate) {\n                $('html, body').stop(true).animate({\n                    scrollTop: scrollTop - headHeight\n                }, {\n                    duration: 100,\n                    always: done //动画不管完没完成总是会执行这个回调\n                });\n            } else {\n                //不使用动画\n                $('html, body').scrollTop(scrollTop - headHeight);\n                done();\n            }\n        }\n\n        /**\n         * 图片加载过程中，定位校正\n         */\n        function regulatePosition() {\n            var selectedNavIndex = $sideNav.find('.' + selectClass).index();\n            var length = $contentLi.length;\n            var absIndex = selectedNavIndex - navStartIndex;\n            var sideNavTop = $sideNav.offset().top;\n            var mistake = 5;//误差范围，浏览器滚动一次长度不一致\n\n            var currContentTop = $contentLi.eq(absIndex + contentStartIndex).offset().top;\n            var nextContentTop = absIndex < length - 1 ? $contentLi.eq(absIndex + 1 + contentStartIndex).offset().top : 99999;\n\n            if (sideNavTop >= currContentTop - mistake &&\n                sideNavTop < nextContentTop - mistake) {\n\n                return;\n            }\n            scrollWindow(currContentTop, function () {\n                $sideNavLi.eq(selectedNavIndex).addClass(selectClass).siblings('.' + selectClass).removeClass(selectClass);\n            });\n        }\n\n        //导航栏点击事件\n        $sideNav.on(\"click\", options.sideNavEntry, function () {\n            clickIndex = $(this).index();\n\n            //如果点击的导航栏条目的index小于有效的导航栏起始index则不处理，即不是有效的栏目就不处理事件\n            if (clickIndex < navStartIndex) {\n                return;\n            }\n\n            //自动对齐导航栏和内容\n            clickPosition();\n        });\n\n        //窗口大小变化事件，动态修改侧边栏位置\n        $(window).on('resize', function () {\n            //如果侧边导航栏是处于悬浮状态则动态修改位置\n            if ($sideNav.css('position') === 'fixed') {\n                var left = $(options.wrapper).offset().left;\n                $sideNav.css({left: left + 'px'});\n            }\n        });\n\n        $(window).on(\"scroll\", function () {\n            scrollDistance = $(document).scrollTop();\n            //如果窗口的滚动距离大于了侧边导航栏到头部的距离则悬浮侧边导航栏\n            if (scrollDistance > nav2HeadDistance) {\n                var left = $(options.wrapper).offset().left;\n                var footTop = footHeight === 0 ? $('html').height() : $(options.foot).offset().top;\n                //左侧导航栏数据区域的底部抵达foot的时候，如果用户继续往下滚动则保持左侧导航栏数据区底部与foot相切\n                var distance = (scrollDistance + headHeight + sideNavInitHeight) - footTop;\n                if (distance > 0) {\n                    $sideNav.css({position: \"fixed\", top: (headHeight - distance) + \"px\", left: left + 'px'});\n                } else {\n                    $sideNav.css({position: \"fixed\", top: headHeight + \"px\", left: left + 'px'});\n                }\n            } else {\n                if ($sideNav.css('position') !== 'absolute') {\n                    $sideNav.css({position: 'absolute', top: \"0\", left: '0'});\n                }\n            }\n\n            //根据窗口滚动情况动态设置左边导航栏的选中项\n            autoSelectNav();\n        });\n\n        /**\n         * 左侧导航栏根据窗口滚动情况自动选择选项\n         */\n        function autoSelectNav() {\n            var length = $contentLi.length;\n            var sideNavTop = $sideNav.offset().top;\n            var mistake = 5;//误差范围，浏览器滚动一次长度不一致\n\n            //当左侧导航栏的位置在右边内容列表的某个条目内，则设置侧边导航栏选中该条目对应的选项（通过index对应）\n            for (var i = 0; i < length; i++) {\n                var currContentTop = $contentLi.eq(i + contentStartIndex).offset().top;\n                var nextContentTop = i < length - 1 ? $contentLi.eq(i + 1 + contentStartIndex).offset().top : 99999;\n\n                if (sideNavTop >= currContentTop - mistake &&\n                    sideNavTop < nextContentTop - mistake) {\n\n                    if (clickIndex > -1 && clickIndex !== i + navStartIndex) {\n                        return;\n                    }\n\n                    $sideNavLi.eq(i + navStartIndex).addClass(selectClass).siblings('.' + selectClass).removeClass(selectClass);\n                    break;\n                }\n            }\n        }\n\n        /**\n         * 图片加载过程中校正被影响的定位。每加载完一张就校正定位（待优化为每正在加载一张就校正定位，难度较大）。\n         * 此方法使用在进入页面就有默认定位时，如果没有默认定位则不必调用。\n         */\n        function perImgLoadPosition() {\n            $contentLi.find('img').each(function (index) {\n                //之前用deferred是想到等所有图片加载完后才校正位置；\n                //后来经过优化每张图片加载完成就校正，发现deferred用在这儿就已经失去了意义\n                //var deferred = $.Deferred();\n                //$(this).load(deferred.resolve);\n                //\n                //image.push(deferred);\n                //$.when(image[index]).done(function () {\n                //\tregulatePosition();\n                //});\n\n                $(this).load(regulatePosition);\n            });\n        }\n\n        //刚进入页面，如果设置了默认定位则定位\n        if (defaultIndex >= 0) {\n            $sideNavLi.eq(defaultIndex).click();\n            perImgLoadPosition();\n        }\n    };\n    /**\n     * 地图获取\n     * @param path 路径\n     * @param todo 回调函数\n     */\n    tools.getMap =\tfunction (path, todo) {\n        $.get(path, function (mapJson) {\n            todo(mapJson);\n        });\n    };\n\n    /**\n     * 使用方法：\n     *  请用在页面渲染后，且需要聚焦效果的元素要加上class：wait-focus\n     */\n    global.tools.focus = function() {\n        $('body .wait-focus').each(function(index, input){\n            var $input = $(input);\n            var defaultValue = $input.val();\n\n            $input.on('focus', function() {\n                var $this = $(this);\n                $this.addClass(\"compl-border\");\n\n                var value = $this.val();\n                if(defaultValue === value) {\n                    $this.val('');\n                }\n            });\n\n            $input.on('blur', function () {\n                var $this = $(this);\n                $this.removeClass(\"compl-border\");\n\n                var value = $this.val();\n                if(value.trim() === '') {\n                    $this.val(defaultValue);\n                }\n            });\n        });\n    };\n\n    /**\n     * 图片设置，暂时不使用，待修改\n     * @param option\n     */\n    global.tools.setImg = function(option) {\n        $(option.selector + ' img').each(function() {\n            var $img = $(this);\n            var pHeight = $img.parents('a').eq(0).height();\n            var pWidth = $img.parents('a').eq(0).height();\n\n            (function () {\n                var list = [], intervalId = null,\n                // 用来执行队列\n                    tick = function () {\n                        var i = 0;\n                        for (; i < list.length; i++) {\n                            list[i].end ? list.splice(i--, 1) : list[i]();\n                        }\n                        !list.length && stop();\n                    },\n                // 停止所有定时器队列\n                    stop = function () {\n                        clearInterval(intervalId);\n                        intervalId = null;\n                    };\n                return function (url, ready, load, error) {\n                    var onready, width, height, newWidth, newHeight,\n                        img = new Image();\n                    img.src = url;\n                    // 如果图片被缓存，则直接返回缓存数据\n                    if (img.complete) {\n                        ready.call(img);\n                        load && load.call(img);\n                        return;\n                    }\n                    width = img.width;\n                    height = img.height;\n                    // 加载错误后的事件\n                    img.onerror = function () {\n                        error && error.call(img);\n                        onready.end = true;\n                        img = img.onload = img.onerror = null;\n                    };\n                    // 图片尺寸就绪\n                    onready = function () {\n                        newWidth = img.width;\n                        newHeight = img.height;\n                        if (newWidth !== width || newHeight !== height || newWidth * newHeight > 1024) {\n                            ready.call(img);\n                            onready.end = true;\n                        }\n                    };\n                    onready();\n                    // 完全加载完毕的事件\n                    img.onload = function () {\n                        // onload在定时器时间差范围内可能比onready快\n                        // 这里进行检查并保证onready优先执行\n                        !onready.end && onready();\n                        load && load.call(img);\n                        // IE gif动画会循环执行onload，置空onload即可\n                        img = img.onload = img.onerror = null;\n                    };\n                    // 加入队列中定期执行\n                    if (!onready.end) {\n                        list.push(onready);\n                        // 无论何时只允许出现一个定时器，减少浏览器性能损耗\n                        if (intervalId === null) intervalId = setInterval(tick, 40);\n                    }\n                };\n            })()($img.attr('src'),\n                function() {\n                }, function() {\n\n                    if( this.width / this.height > pWidth / pHeight ) {\n                        $img.css({\n                            position: 'relative',\n                            width: '100%',\n                            height: 'auto'\n                        });\n\n                        $img.css({\n                            top: '50%',\n                            marginTop: '-' + $img.height()/2 + 'px'\n                        });\n                    } else if(this.width / this.height < pWidth / pHeight ) {\n                        $img.css({\n                            position: 'relative',\n                            width: 'auto',\n                            height: '100%'\n                        });\n\n                        $img.css({\n                            left: '50%',\n                            marginLeft: '-' + $img.height()/2 + 'px'\n                        });\n                    }\n                },function() {\n                });\n        });\n    };\n    /**\n     * 使用方法：\n     *  字段的验证，支持非空、手机、邮箱的判断\n     */\n    global.tools.validate = function(value, type, minlength, maxlength) {\n        var value = $.trim(value);\n        // 非空验证\n        if ('require' === type) {\n            return !!value;\n        }\n        // 手机号验证\n        if ('phone' === type) {\n            return /^1\\d{10}$/.test(value);\n        }\n        // 邮箱格式验证\n        if ('email' === type) {\n            return /^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w{2,3}){1,3})$/.test(value);\n        }\n        //验证长度\n        if ('length' === type) {\n            if (value.length <= minlength || value.length >= maxlength) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        //汉字和字母验证规则\n        if ('chinese' === type) {\n            return /^([\\u4E00-\\uFA29]*[a-z]*[A-Z]*)+$/.test(value);\n        }\n    };\n})(window, jQuery);\n","/**\n * @authors hexg\n * @date    2017-12-06 09:08:56\n */\n\n\n\nvar today = new Date();\n/**\n * daqCalendar 日历带价格插件\n * @param    url      {url}           请求的链接\n * @param    date     {string||array} 初始时间 string格式：2017-1-10 array格式：['2017-1-10','2017-1-10'] 起止时间\n * @param  \tminDate   {string}        拼组团请求日历的时候 最小的可选择时间  '2017-1-10'\n * @param  \tmaxDate   {string}        拼组团请求日历的时候 最大的可选择时间  '2017-1-10'\n * @param    mode     {string}        日历插件类型 single或者range\n * @param    data     {object}        请求附带的参数\n * @param    change   {function}      插件选中值后的回调\n * @return\n */\nwindow.daqCalendar = (function(){\n\tvar calendar = {\n\t\tinit: function(trigger, config) {\n\t\t\tthis.trigger = $(trigger);\n\t\t\tthis.date;\n\t\t\t//配置\n\t\t\tthis.config = {\n\t\t\t\turl: '',\n\t\t\t\teventType:'click',\n\t\t\t\tmode:'single',\n\t\t\t\tdate: '',\n\t\t\t\tdata: {},\n\t\t\t\tminDate: '',\n\t\t\t\tmaxDate: '',\n\t\t\t\tchange: function(params) {}\n\t\t\t};\n\t\t\t// 默认参数扩展\n\t\t\tif (config && $.isPlainObject(config)) {\n\t\t\t\t$.extend(this.config, config, true);\n\t\t\t};\n\t\t\tthis.date = this.config.date;\n\t\t\tvar date;\n\t\t\tif(typeof this.config.date == 'string'){\n\t\t\t\tdate = this.config.date ? this.config.date.split('-') : '';\n\n\t\t\t} else if(typeof this.config.date == 'object') {\n\t\t\t\tdate = this.config.date[0] ? this.config.date[0].split('-') : '';\n\t\t\t\tthis.startDate = this.date[0];\n\t\t\t\tthis.rangeEndDate = this.date[1];\n\t\t\t}\n\n\t\t\tif(this.config.minDate){\n\t\t\t\ttoday = new Date(this.config.minDate);\n\t\t\t}\n\n\t\t\tif(date.length === 3){\n\t\t\t\tthis.year = parseInt(date[0]);\n\t\t\t\tthis.month = parseInt(date[1]);\n\t\t\t\tthis.day =parseInt(date[2]);\n\t\t\t}else{\n\t\t\t\tthis.year = today.getFullYear();\n\t\t\t\tthis.month = today.getMonth() + 1;\n\t\t\t}\n\t\t\tthis.config.data.month = this.year + '-' + this.formatNumber(this.month);\n\t\t\tif(this.config.maxDate){\n\t\t\t\tthis.endDate = this.config.maxDate.split('-');\n\t\t\t}\n\t\t\tthis.eventBind();\n\t\t},\n\t\teventBind:function(){\n\t\t\tvar config = this.config;\n\t\t\tvar _self = this;\n\t\t\t//this.trigger.on(config.eventType,popCalendar);\n            popCalendar();\n\t\t\tfunction popCalendar(){\n\t\t\t\t$(\"html\").addClass(\"no-scroll\");\n\t\t\t\t// 渲染dom\n\t\t\t\t_self.daqCalendar = $('<div class=\"daqCalendar\"></div>');\n\t\t\t\t// _self.calendarMask = $('<p class=\"ui-calendar-mask\"></p>');\n\t\t\t\t_self.calendar = $('<div class=\"ui-calendar\"></div>');\n\n\t\t\t\tvar calendarHtml = '<div class=\"ui-calendar-hd\">' +\n\t\t\t\t\t\t\t\t\t\t'<span class=\"prev\"><i class=\"daq-icon\">&#xe6b2;</i>上一月</span>' +\n\t\t\t\t\t\t\t\t\t\t'<h2 class=\"title\">2017年11月</h2>' +\n\t\t\t\t\t\t\t\t\t\t'<span class=\"next\">下一月<i class=\"daq-icon\">&#xe6b1;</i></span>' +\n\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t'<div class=\"ui-calendar-bd\">' +\n\t\t\t\t\t\t\t\t\t\t'<div class=\"ui-calendar-bd-bg\"></div>' +\n\t\t\t\t\t\t\t\t\t\t'<table>' +\n\t\t\t\t\t\t\t\t\t\t\t'<thead>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr>' +\n\t\t\t\t\t\t\t\t\t\t\t'</thead>' +\n\t\t\t\t\t\t\t\t\t\t\t'<tbody>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n\t\t\t\t\t\t\t\t\t\t\t'</tbody>' +\n\t\t\t\t\t\t\t\t\t\t'</table>' +\n\t\t\t\t\t\t\t\t\t'</div>';\n\t\t\t\t_self.calendar.html(calendarHtml);\n\t\t\t\t_self.daqCalendar.append(_self.calendar);\n\n\t\t\t\t//$(\"body\").append(_self.daqCalendar);\n                $(_self.trigger).html(_self.daqCalendar);\n\t\t\t\t//_self.calendarMask.on(\"click\",_self.hide);\n\t\t\t\t_self.btnClick();\n\n\t\t\t\tif (_self.year === today.getFullYear() && _self.month === (today.getMonth() + 1)) {\n\t\t\t\t\t_self.calendar.find('.prev').addClass('disabled');\n\t\t\t\t};\n\t\t\t\t_self.loadCalendar(_self.config);\n\t\t\t\t_self.formatter();\n\t\t\t}\n\t\t},\n\t\t// 格式化数字\n\t\tformatNumber:function(n) {\n\t\t\tn = parseInt(n);\n            return n < 10 ? \"0\" + n : n;\n        },\n        //获取最大值到最小值的数组\n\t\tinitYears:function(max, min) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i = (min || 1950); i <= (max || 2030); i++) {\n\t\t\t\tarr.push(i);\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t//获取天数\n\t\tgetDays:function(max) {\n\t\t\tvar days = [];\n\t\t\tfor (var i = 1; i <= (max || 31); i++) {\n\t\t\t\tdays.push(i < 10 ? \"0\" + i : i);\n\t\t\t};\n\t\t\treturn days;\n\t\t},\n\t\t//根据月年获取天数\n\t\tgetDaysByMonthAndYear:function(month, year) {\n\t\t\tvar int_d = new Date(year, parseInt(month) + 1 - 1, 1),\n\t\t\t\t_self = this;\n\t\t\tvar d = new Date(int_d - 1);\n\t\t\treturn _self.getDays(d.getDate());\n\t\t},\n\t\t//格式化数字\n\t\tformatNumber:function(n) {\n\t\t\tn = parseInt(n);\n\t\t\treturn n < 10 ? \"0\" + n : n;\n\t\t},\n\t\t//获取星期几\n\t\tgetWeek: function() {\n\t\t\treturn new Date(this.year,this.month-0-1,'01').getDay();\n\t\t},\n\t\t//上一页\n\t\tprev: function() {\n\t\t\tvar _self = this;\n\t\t\tif (_self.calendar.find('.next').hasClass('disabled')) {\n\t\t\t\t_self.calendar.find('.next').removeClass('disabled');\n\t\t\t};\n\t\t\tif (_self.calendar.find('.prev').hasClass('disabled')) {\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tif (_self.month <= 1) {\n\t\t\t\t_self.year--;\n\t\t\t\t_self.month = 12;\n\t\t\t} else {\n\t\t\t\t_self.month--;\n\t\t\t}\n\t\t\t_self.config.data.month = _self.year + '-' + _self.formatNumber(_self.month);\n\t\t\t_self.loadCalendar(_self.config);\n\t\t\t_self.formatter();\n\n\t\t\tif (_self.year === today.getFullYear() && _self.month === (today.getMonth() + 1)) {\n\t\t\t\t_self.calendar.find('.prev').addClass('disabled');\n\t\t\t};\n\t\t},\n\t\t//下一页\n\t\tnext: function() {\n\t\t\tvar _self = this;\n\t\t\tif (_self.calendar.find('.prev').hasClass('disabled')) {\n\t\t\t\t_self.calendar.find('.prev').removeClass('disabled');\n\t\t\t};\n\t\t\tif(_self.calendar.find('.next').hasClass('disabled')){\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tif (_self.month >= 12) {\n\t\t\t\t_self.year++;\n\t\t\t\t_self.month = 1;\n\t\t\t} else {\n\t\t\t\t_self.month++;\n\t\t\t}\n\t\t\t_self.config.data.month = _self.year + '-' + _self.formatNumber(_self.month);\n\t\t\t_self.loadCalendar(_self.config);\n\t\t\t_self.formatter();\n\n\t\t\tif(_self.year === parseInt(_self.endDate[0]) && _self.month === parseInt(_self.endDate[1])){\n\t\t\t\t_self.calendar.find('.next').addClass('disabled');\n\t\t\t};\n\t\t},\n\t\t//格式化\n\t\tformatter: function() {\n\t\t\tvar _self = this;\n\t\t\t_self.daqCalendar.find(\".title\").html(_self.year + '年' + _self.formatNumber(_self.month) + '月');\n\t\t},\n\t\t//加载数据\n\t\tloadCalendar: function(param) {\n\t\t\tvar $calendar = this.calendar,\n\t\t\t\tdate =param.data.month.split(\"-\");\n\t\t\t\t_self = this,\n\t\t\t\t// start = _self.getWeek() === 0 ? 0 : _self.getWeek() - 1,\n\t\t\t\t$td = $calendar.find('td');\n\t\t\t$td.html('');\n\t\t\tvar rp = {\n\t\t\t    url: _self.config.url,\n                data: param.data\n            }\n\t\t\ttools.request(rp, function (res) {\n                if(!_self.endDate) {\n                    _self.endDate = res.data.maxDate.split('-');\n                }\n                var start;\n                if(res.data.hasOwnProperty(\"dataPrices\")){\n                    start = res.data.dataPrices.first - 1;\n                    res= res.data.dataPrices.datePrice;\n                } else if(res.data.hasOwnProperty(\"datePrice\")){\n                    start = res.data.first - 1;\n                    res = res.data.datePrice;\n                }\n                // start = start === 0 ? start : start -1;\n                $calendar.find(\"td\").removeClass(\"active\").removeClass('on');\n                _self.removeAttribute();\n\n                var $tds;\n                if(start > 0) {\n                    start-- ;\n                    $tds = $calendar.find('td:gt(' + start + ')');\n                } else {\n                    $tds = $calendar.find('td');\n                }\n                $tds.each(function(index, value) {\n                    if (index >= res.length) {\n                        return false;\n                    }\n\n                    $(this).addClass('bg-gray').html('<span class=\"date\">' + res[index]['date'] + '</span><span class=\"price\">' + (res[index].price != -1 ? '￥' + res[index].price : '') + '</span>');\n                    if (res[index].price != -1) {\n                        $(this).addClass('on').attr('data-price', res[index].price);\n                        $(this).attr('data-maxbuy', res[index].maxBuyNum);\n                        $(this).attr('data-minbuy', res[index].minBuyNum);\n                        $(this).attr('data-getdate', _self.formatNumber(index+1));\n                        $(this).attr('data-month',date[1]);\n                        $(this).attr('data-year',date[0]);\n                        $(this).attr(\"data-stock\",res[index].stock);\n                        $(this).attr(\"data-childPrice\",res[index].childPrice);\n                    } else {\n                        $(this).addClass('bg-gray')\n                    }\n                });\n                _self.addActive();\n            })\n\t\t},\n\t\t// 清除标td标签上的自定义属性\n\t\tremoveAttribute: function(){\n\t\t\tthis.calendar.find(\"td\").each(function(index,el) {\n\t\t\t\t$(this).removeAttr('data-price');\n\t\t\t\t$(this).removeAttr('data-maxbuy');\n\t\t\t\t$(this).removeAttr('data-minbuy');\n\t\t\t\t$(this).removeAttr('data-getdate');\n\t\t\t\t$(this).removeAttr('data-month');\n\t\t\t\t$(this).removeAttr('data-year');\n\t\t\t\t$(this).removeAttr(\"data-stock\");\n\t\t\t\t$(this).removeAttr(\"data-childPrice\");\n\t\t\t});\n\t\t},\n\t\t// 日历销毁\n\t\thide: function(){\n\t\t\t$(\"html\").removeClass(\"no-scroll\");\n\t\t\t$('.daqCalendar').remove();\n\t\t\tthis.daqCalendar=null;\n\t\t\tthis.calendarMask=null;\n\t\t\tthis.calendar = null;\n\t\t},\n\t\t// 日历按钮点击事件\n\t\tbtnClick:function(){\n\t\t\tthis.clicknum = 0;\n\t\t\tvar _self = this;\n\t\t\t//下一月\n\t\t\t_self.daqCalendar.find('.ui-calendar .next').on('click', function() {\n\t\t\t\tif(_self.year === parseInt(_self.endDate[0]) && _self.month === parseInt(_self.endDate[1])){\n\t\t\t\t\t$(this).addClass('disabled')\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\tif($(this).is('.disabled')){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t_self.next();\n\t\t\t});\n\t\t\t//上一月\n\t\t\t_self.daqCalendar.find('.ui-calendar .prev').on('click', function() {\n\t\t\t\t_self.prev();\n\t\t\t});\n\t\t\t// 选择日期\n\t\t\t_self.daqCalendar.on('click','.ui-calendar td.on', function() {\n\t\t\t\tvar $this = $(this);\n\t\t\t\tif(_self.config.mode=='single'){\n\t\t\t\t\t_self.singleOnchage($this);\n\t\t\t\t} else if(_self.config.mode == 'range'){\n\t\t\t\t\t_self.rangeOnchage($this);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 单独日期选择\n\t\tsingleOnchage:function($el){\n\t\t\tvar _self = this;\n            _self.daqCalendar.find('.ui-calendar td').removeClass('active');\n            $el.addClass('active');\n\t\t\t_self.day =  $el.data('getdate');\n\t\t\t_self.month = _self.month > 10 ? _self.month : '0' + parseInt(_self.month)\n\t\t\t_self.date = _self.year + '-' + _self.month + '-' + _self.day;\n\t\t\ttypeof _self.config.change === 'function' && _self.config.change({\n\t\t\t\tyear: _self.year,\n\t\t\t\tmonth: _self.month,\n\t\t\t\tprice: $el.attr('data-price'),\n\t\t\t\tminBuy: $el.attr('data-minbuy'),\n\t\t\t\tmaxBuy: $el.attr('data-maxbuy'),\n\t\t\t\tgetDate: $el.attr('data-getdate'),\n\t\t\t\tstock:$el.attr(\"data-stock\"),\n\t\t\t\tdate:_self.date,\n\t\t\t\tchildPrice:$el.attr(\"data-childPrice\")\n\t\t\t});\n\t\t\t//_self.hide();\n\t\t},\n\t\t// 日期段选择\n\t\trangeOnchage:function($el) {\n\t\t\tvar _self = this;\n\t\t\tvar date = $el.attr(\"data-year\") + '-' + $el.attr(\"data-month\") +'-' +$el.attr(\"data-getdate\");\n\t\t\tif(_self.clicknum ==0){\n\t\t\t\t$td = _self.calendar.find(\"td\");\n\t\t\t\t$td.removeClass(\"active\");\n\t\t\t\t$el.addClass(\"active\");\n\t\t\t\t_self.rangeStart = $el;\n\t\t\t\t_self.startDate = date;\n\t\t\t\t$el.attr(\"data-date\",date);\n\t\t\t\t_self.clicknum ++;\n\t\t\t} if(_self.clicknum ==1 && !$el.is(\".active\")){\n\t\t\t\tvar dateFlag = _self.compareDate(_self.startDate,date);\n\t\t\t\tif(dateFlag){\n\t\t\t\t\t_self.rangeEndDate = _self.rangeStart.attr(\"data-date\");\n\t\t\t\t\t_self.startDate = date;\n\t\t\t\t\t_self.rangeStart = $el;\n\t\t\t\t}else {\n\t\t\t\t\t_self.rangeEndDate = date;\n\t\t\t\t}\n\t\t\t\t_self.date = [_self.startDate,_self.rangeEndDate];\n\n\t\t\t\ttypeof _self.config.change === 'function' && _self.config.change({\n\t\t\t\t\tprice: _self.rangeStart.attr('data-price'),\n\t\t\t\t\tminBuy: _self.rangeStart.attr('data-minbuy'),\n\t\t\t\t\tmaxBuy: _self.rangeStart.attr('data-maxbuy'),\n\t\t\t\t\tstock:_self.rangeStart.attr(\"data-stock\"),\n\t\t\t\t\tdate:_self.date,\n\t\t\t\t\tstartDate:_self.startDate,\n\t\t\t\t\tendDate:_self.rangeEndDate,\n\t\t\t\t\tchildPrice:_self.rangeStart.attr(\"data-childPrice\")\n\t\t\t\t});\n\n\t\t\t\t_self.clicknum = 0; //重置点击计数器\n\t\t\t\t//_self.hide();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * [compareDate 比较日期大小]\n\t\t * @param  {string} date1 [日期1]\n\t\t * @param  {string} date2 [日期2]\n\t\t * @return {boolen}       date1>date2 ? true :false\n\t\t */\n\t\tcompareDate:function(date1,date2){\n\t\t\tvar time1 = new Date(date1.replace(/\\-/g, \"\\/\")).getTime();\n\t\t\tvar time2 = new Date(date2.replace(/\\-/g, \"\\/\")).getTime();\n\t\t\tif(time1 > time2){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t// 初始化日历时 为日历对应日期添加选中状态\n\t\taddActive:function() {\n\t\t\tvar _self = this;\n\t\t\tvar $td = _self.calendar.find(\"td\");\n\t\t\tif(_self.config.mode == 'single') {\n\t\t\t\tvar selectDate = _self.date.split(\"-\");\n\t\t\t\tvar selectDay = selectDate[2],\n\t\t\t\t    selcetMon = selectDate[1],\n\t\t\t\t\tselectYear =selectDate[0];\n\t\t\t\t$td.each(function(index, el) {\n\t\t\t\t\tif($(this).attr('data-getdate')-0 === selectDay-0 && selcetMon-0 === $(this).attr('data-month')-0 && selectYear-0 === $(this).attr('data-year')-0){\n\t\t\t\t\t\t$(this).addClass(\"active\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}  else if(_self.config.mode == 'range') {\n\t\t\t\tvar startDate = _self.startDate.split(\"-\");\n\t\t\t\tvar\tendDate = _self.rangeEndDate.split(\"-\");\n\t\t\t\tvar startDay = parseInt(startDate[2]),\n\t\t\t\t    startMon = parseInt(startDate[1]),\n\t\t\t\t\tstartYear =parseInt(startDate[0]),\n\t\t\t\t\tendDay = parseInt(endDate[2]),\n\t\t\t\t    endMon = parseInt(endDate[1]),\n\t\t\t\t\tendYear =parseInt(endDate[0]);\n\t\t\t\t$td.each(function(index, el) {\n\t\t\t\t\tif( $(this).attr('data-year')/1-startYear >= 0 && endYear- $(this).attr('data-year')/1 >= 0){\n\t\t\t\t\t\tif( $(this).attr('data-month')/1-startMon >= 0 && endMon- $(this).attr('data-month')/1 >= 0){\n\t\t\t\t\t\t\tif( $(this).attr('data-getdate')/1-startDay >= 0 && endDay- $(this).attr('data-getdate')/1 >= 0){\n\t\t\t\t\t\t\t\t$(this).addClass(\"active\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\treturn calendar;\n})();\n","(function($) {\n\tfunction Dialog(config) {\n\t\tthis.config = {\n\t\t\ttitle: '',\n\t\t\twidth: 600,\n\t\t\theight: 300,\n\t\t\tmessage: '出错了',\n\t\t\tfooter: true,\n\t\t\tbuttons: null,\n\t\t\tlogShow: false,\n\t\t\tready: function(){},\n\t\t\tcallback: function(){\n\n\t\t\t}\n\t\t};\n\t\t//默认参数扩展\n\t\tif (config && $.isPlainObject(config)) {\n\t\t\t$.extend(this.config, config);\n\t\t};\n\t\tthis.init();\n\t}\n\tDialog.prototype.init = function() {\n\t\tthis.body = $('body');\n\t\t//创建弹出窗口\n\t\tthis.dialogWrap = $('<div class=\"ui-dialog-wrap\"></div>');\n\t\t//创建遮罩层\n\t\tthis.mask = $('<div class=\"ui-dialog-mask\"></div>');\n\t\t//创建弹出窗口dialog\n\t\tthis.dialog = $('<div class=\"ui-dialog\"></div>');\n\t\t//创建弹出窗口head\n\t\tthis.dialogHd = $('<div class=\"ui-dialog-hd\"><span class=\"ui-dialog-line\"></span><h2 class=\"ui-dialog-title\">购买须知</h2><i class=\"ui-dialog-close\">×</i></div>');\n\t\t//创建弹出窗口body\n\t\tthis.dialogBd = $('<div class=\"ui-dialog-bd\"></div>');\n\t\t//创建弹出窗口footer\n\t\tthis.dialogFt = $('<div class=\"ui-dialog-ft ui-border-t\"></div>');\n\t\t//渲染DOM\n\t\tthis.render();\n\t\tthis.show();\n\t\tthis.event();\n\t};\n\tDialog.prototype.event = function() {\n\t\tvar _this = this,\n\t\t\tmask = this.mask;\n\t\t$(document).on('click','.ui-dialog-close,.ui-dialog-mask',function(){\n\t\t\ttypeof _this.config.callback === 'function' && _this.config.callback();\n\t\t\t_this.hide();\n\t\t});\n\t};\n\tDialog.prototype.render = function() {\n\t\tvar _this = this,\n\t\t\tbody = $('body'),\n\t\t\tconfig = this.config,\n\t\t\tdialogWrap = this.dialogWrap,\n\t\t\tmask = this.mask,\n\t\t\tdialog = this.dialog,\n\t\t\tdialogHd = this.dialogHd,\n\t\t\tdialogBd = this.dialogBd,\n\t\t\tdialogFt = this.dialogFt;\n\n\t\tif (config.mask) {\n\t\t\tdialogWrap.append(mask);\n\t\t};\n\t\t//如果传了标题\n\t\tif (config.title) {\n\t\t\tdialogHd.find('.ui-dialog-title').html(config.title);\n\t\t\tdialog.append(dialogHd);\n\t\t};\n\t\t//如果传了信息文本\n\t\tif (config.message) {\n\t\t\tdialog.append(dialogBd.html(config.message));\n\t\t};\n\t\tif (config.buttons) {\n\t\t\t_this.creactButton(config.buttons, dialogFt);\n\t\t\tdialog.append(dialogFt);\n\t\t}\n\t\tif (config.logShow === true){\n            setTimeout(function () {\n                _this.hide();\n            },2000)\n        }\n\t\tdialogWrap.append(dialog);\n\t\tbody.append(dialogWrap);\n\t\tconfig.ready && config.ready();\n\t\t_this.computed();\n\t};\n\tDialog.prototype.computed = function() {\n\t\tvar _this = this,\n\t\t\tconfig = this.config,\n\t\t\t$dialog = $('.ui-dialog'),\n\t\t\tdialogHdHeight = $('.ui-dialog-hd').outerHeight(),\n\t\t\t$dialogBd = $('.ui-dialog-bd'),\n\t\t\tdialogFtHeight = $('.ui-dialog-ft').outerHeight(),\n\t\t\tdialogBdHeight;\n\t\t$dialog.css({\n\t\t\twidth: config.width,\n\t\t\theight: config.height,\n\t\t\tmarginTop: -config.height / 2,\n\t\t\tmarginLeft: -config.width / 2\n\t\t});\n\n\t\tif (config.footer) {\n\t\t\tdialogBdHeight = config.height - dialogHdHeight - dialogFtHeight - 40\n\t\t}else{\n\t\t\tdialogBdHeight = config.height - dialogHdHeight - 40\n\t\t}\n\t\t$dialogBd.css({\n\t\t\theight: dialogBdHeight\n\t\t});\n\t};\n\tDialog.prototype.creactButton = function(buttons, footer) {\n\t\tvar _this = this,\n\t\t\tconfig = _this.config;\n\t\t$(buttons).each(function() {\n\t\t\tvar text = this.text ? this.text : '按钮' + index++,\n\t\t\t\tcallback = this.callback ? this.callback : null;\n\t\t\tbutton = $('<a class=\"btn ' + this.className + '\">' + text + '</a>');\n\t\t\tif (callback) {\n\t\t\t\tbutton.click(function() {\n\t\t\t\t\tvar isClose = callback();\n\t\t\t\t\tif (isClose !== false) {\n\t\t\t\t\t\t_this.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbutton.click(function() {\n\t\t\t\t\t_this.hide();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (config.footer) {\n\t\t\t\tfooter.append(button);\n\t\t\t}\n\t\t});\n\t};\n\tDialog.prototype.hide = function() {\n\t\tvar _this = this;\n\t\t_this.dialogWrap.removeClass('show').addClass('hide');\n\t\tsetTimeout(function() {\n\t\t\t_this.dialogWrap.remove();\n\t\t}, 250);\n\t};\n\tDialog.prototype.show = function() {\n\t\tvar _this = this;\n\t\tsetTimeout(function() {\n\t\t\t_this.dialogWrap.removeClass('hide').addClass('show');\n\t\t}, 100);\n\t};\n\twindow.Dialog = Dialog;\n\t$.dialog = function(config) {\n\t\treturn new Dialog(config);\n\t}\n})(window.jQuery || $);\n","(function(global, $, undefined) {\n    'use strict';\n\n    global.tools = global.tools || {};\n\n    /**\n     * 图片弹出层\n     * @param option\n     * {\n     *  list: 图片列表选择器，默认为‘#pictureList’\n     *  entry: 列表条目选择器，默认为‘li’\n     *  img: 图片选择器，默认为‘img.scale-pic’\n     *  title: 标题选择器，默认为‘.picture-tit > span’\n     * }\n     */\n    global.tools.popupPicture = function(option, callback) {\n        var windowWidth = $(window).width();\n        var windowHeight = $(window).height();\n        var imgWidth = 0;\n        var imgHeight = 0;\n        var picIndex = 0;\n        var imageSrc = '';\n        var title = '';\n        var top = 0;\n        var left = 0;\n        var prevClickTime = 0;\n        var list = option.list || '.picture-lst';\n        var imgElement = option.img || 'img.scale-pic';\n        var titleElement = option.title || '.picture-tit > span';\n        var entryElement = option.entry || 'li';\n        var viewBtn = option.viewBtn || '';\n\n        $(window).on('resize', function() {\n            windowWidth = $(window).width();\n            windowHeight = $(window).height();\n\n            computeImgPosition();\n\n            $(\".pop-box\").css({\n                \"left\" : left,\n                \"top\" : top\n            });\n        });\n\n        if(viewBtn) {\n            //点击图片\n            $(list).on('click', viewBtn, function(e) {\n                var $li = $(this).parents(entryElement);\n                picIndex = $li.index();\n                imageSrc = $li.find(imgElement).attr(\"src\");\n                title = $li.find(titleElement).text();\n                // console.log(title)\n                popupLayer();\n            });\n        } else {\n            //点击图片\n            $(list).on('click', entryElement, function(e) {\n                // console.log($(this))\n                picIndex = $(this).index();\n                imageSrc = $(this).find(imgElement).attr(\"src\") || $(imgElement).attr(\"src\");\n                title = $(this).find(titleElement).text() || $(this).parent().parent().find(titleElement).text();\n                // console.log(title)\n                popupLayer();\n            });\n        }\n\n        $('body').on('click', '.picture-popup > .pop-prev', function() {\n            //设置500毫秒一次有效点击，防止用户频繁点击\n            var clickTime = new Date().getTime();\n            if(clickTime - prevClickTime > 500) {\n                $('.pop-img > img').attr('style', '');\n                prevPic();\n                prevClickTime = clickTime;\n            }\n        });\n        $('body').on('click', '.picture-popup > .pop-next', function() {\n            var clickTime = new Date().getTime();\n            if(clickTime - prevClickTime > 500) {\n                $('.pop-img > img').attr('style', '');\n                nextPic();\n                prevClickTime = clickTime;\n            }\n        });\n        $('body').on('click', '.picture-popup > .pop-remove', function() {\n            closePopup();\n        });\n\n        function computeImgPosition() {\n            imgWidth = $(\".pop-img > img\").width();\n            imgHeight = $(\".pop-img > img\").height();\n\n            if(imgWidth > 1280){\n                imgWidth = 1200;\n            } else if(imgWidth < 300){\n                imgWidth = 300;\n            }\n\n            if(imgHeight > 720){\n                imgHeight = 700;\n                if(imgHeight > windowHeight) {\n                    imgHeight = windowHeight;\n                }\n            } else if (imgHeight < 175) {\n                imgHeight = 175;\n            }\n\n            $('.pop-img > img').css({\n                \"width\": imgWidth,\n                \"height\": imgHeight\n            });\n\n            left = (windowWidth - imgWidth - 30) / 2;\n            top = (windowHeight - imgHeight - 30) / 2;\n\n            callback && callback($(list).find(entryElement).eq(picIndex));\n        }\n\n        function popupLayer() {// 图库弹出层\n            var layer = '<div class=\"picture-popup\"><div class=\"opa80 pop-remove\"></div>' +\n                '<a class=\"pop-close pop-remove\"></a>' +\n                '<a class=\"pop-btn pop-prev\"></a>' +\n                '<a class=\"pop-btn pop-next\"></a>' +\n                '<div class=\"pop-box\"><div class=\"pop-img\"><img src=\"' + imageSrc + '\"/><p class=\"pop-tit\"><span>' + title + '</span></p></div></div>' +\n                '</div>';\n            $(document.body).append(layer);\n\n            $(\".opa80\").animate({\n                opacity : 1\n            }, 500);\n            $(\".pop-btn\").animate({\n                opacity : 1\n            }, 500);\n            $(\".pop-close\").animate({\n                opacity : 1\n            }, 500);\n\n            computeImgPosition();\n\n            $(\".pop-box\").css({\n                \"top\" : top\n            });\n\n            $(\".pop-box\").animate({\n                left : left,\n                opacity : 1\n            }, 500);\n        }\n\n        function closePopup() {\n            $(\".picture-popup\").remove();\n        }\n\n        //上一张\n        function prevPic() {\n            var entrys = $(list).find(entryElement);\n            var total = entrys.length;\n\n            picIndex -= 1;\n            if (picIndex < 0) {\n                picIndex = total - 1;\n            }\n            var $img = $(entrys).eq(picIndex).find(imgElement).attr(\"src\");\n            var $tit = $(entrys).eq(picIndex).find(titleElement).html();\n\n            $(\".pop-img > img\").animate({opacity: 0}, 0).attr(\"src\",$img).animate({opacity: 1}, 200);\n            $(\".pop-tit > span\").animate({opacity: 0}, 0).html($tit).animate({opacity: 1}, 200);\n\n            computeImgPosition();\n\n            $(\".pop-box\").css({\n                \"left\" : left,\n                \"top\" : top\n            });\n        }\n\n        //下一张\n        function nextPic() {\n            var entrys = $(list).find(entryElement);\n            var total = entrys.length;\n\n            picIndex += 1;\n            if (picIndex >= total) {\n                picIndex = 0;\n            }\n\n            var $img = $(entrys).eq(picIndex).find(imgElement).attr(\"src\");\n            var $tit = $(entrys).eq(picIndex).find(titleElement).html();\n\n            $(\".pop-img > img\").animate({opacity: 0}, 0).attr(\"src\",$img).animate({opacity: 1}, 200);\n            $(\".pop-tit > span\").animate({opacity: 0}, 0).html($tit).animate({opacity: 1}, 200);\n\n            computeImgPosition();\n\n            $(\".pop-box\").css({\n                \"left\" : left,\n                \"top\" : top\n            });\n        }\n    }\n\n})(window, jQuery);\n","/*\n * @Author: UEDHE\n * @Date:   2017-09-18 11:48:44\n * @Last Modified by:   'hejianping'\n * @Last Modified time: 2017-12-13 17:51:52\n */\n;\n(function($) {\n    /**\n     * [LightBox description]\n     * @param {[String]} element [负节点]\n     * @param {[Object]} config  [description]\n     * @param {[String]} child [字节点]\n     * @param {[String]} prevText [上一页的text]\n     * @param {[String]} nextText [下一页的text]\n     */\n    function LightBox(element, config) {\n        this.ele = element;\n        this.config = {\n            child: '.waterfall-item',\n            prevText: '上一页',\n            nextText: '下一页',\n            callback:function(){\n\n            }\n        };\n        // 默认参数扩展\n        if (config && $.isPlainObject(config)) {\n            $.extend(this.config, config);\n        };\n    };\n\n    LightBox.prototype = {\n        init: function() {\n            this.eventBind();\n        },\n        /**\n         * [eventBind 事件]\n         */\n        eventBind: function() {\n            var _this = this,\n                config = _this.config;\n            _this.ele.on('click', config.child, function() {\n                var $this = $(this);\n                _this.index = $this.index();\n                _this.len = _this.ele.find(config.child).length;\n                _this.render();\n                _this.getparams(_this.index);\n            });\n\n\n        },\n        /**\n         * [render 模版]\n         */\n        render: function() {\n        \tvar _this = this;\n            var _html = '<div class=\"dialog\">' +\n                '<div class=\"dialog-hd\">' +\n                '<a href=\"javascript:;\" class=\"daq-icon\">&#xe656;</a>' +\n                '</div>' +\n                '<div class=\"dialog-bd\"><img src=\"\" /><p class=\"title mask\"></p></div>' +\n                '<div class=\"dialog-ft\">' +\n                '<a href=\"javascript:;\" class=\"prev daq-icon opacity\">&#xe6b2;</a>' +\n                '<a href=\"javascript:;\" class=\"next daq-icon opacity\">&#xe6b1;</a>' +\n                '</div>' +\n                '<div class=\"mask\"></div>' +\n                '</div>';\n            $('body').append(_html);\n            //上一页\n            $('.dialog .prev').on('click', function() {\n                _this.prev();\n            });\n            //下一页\n            $('.dialog .next').on('click', function() {\n                _this.next();\n            });\n            //remove\n            $('.dialog .mask,.dialog .dialog-hd').on('click', function() {\n                _this.hide();\n            });\n        },\n        /**\n         * [getparams 获取相应参数]\n         * @param  {[Number]} num [当前列]\n         */\n        getparams: function(num) {\n            var _this = this,\n                config = _this.config,\n                $item = _this.ele.find(config.child).eq(num),\n                src = $item.find('img').attr('src'),\n                content = $item.find('.title').text(),\n                $img = $('.dialog').find('img'),\n                $title = $('.dialog').find('.title');\n            $img.attr('src', src);\n            $title.html(content);\n            _this.computeImgPosition($img);\n            typeof config.callback === \"function\" && config.callback($item);\n        },\n        /**\n         * [getparams 计算宽高]\n         * @param  {[Object]} num [图片对象]\n         */\n        computeImgPosition: function(img) {\n            $('.dialog .dialog-bd').css('width','auto');\n            var winH = $(window).height(),\n                winW = $(window).width(),\n                imgW = img.width(),\n                imgH = img.height(),\n                imgScale = imgW / imgH;\n            if (imgH >= winH) {\n                imgH = winH - 300;\n                imgW = parseInt(imgH * imgScale);\n            }\n            if (imgW >= winW) {\n                imgW = winW - 300;\n                imgH = parseInt(imgW / imgScale);\n            }\n            $('.dialog .dialog-bd').css({\n                    width: imgW,\n                    height: imgH,\n                    marginLeft: -(imgW + 20) / 2,\n                    marginTop: -(imgH + 20) / 2\n                },\n                200);\n        },\n        /**\n         * [hide 移除dialog]\n         */\n        hide: function() {\n            $('.dialog').hide(500, function() {\n                $(this).remove();\n            })\n        },\n        /**\n         * [next 下一页]\n         */\n        next: function() {\n            var _this = this;\n            if (_this.index >= _this.len-1) {\n                return false;\n            };\n            _this.index++;\n            _this.getparams(_this.index);\n        },\n        /**\n         * [next 上一页]\n         */\n        prev: function() {\n            var _this = this;\n            if (_this.index <= 0) {\n                return false;\n            };\n            _this.index--;\n            _this.getparams(_this.index);\n        }\n    }\n\n    // 添加到window对象上\n    window.LightBox = LightBox;\n    // 封装到jquery对象上去\n    $.fn.daqLightBox = function(config) {\n        var daqLightBox = new LightBox(this, config);\n        daqLightBox.init();\n    };\n})(window.jQuery || $);\n","/**\n * @authors hexg\n * @date    2017-12-06 09:08:56\n */\n\n\n\nvar today = new Date();\n/**\n * payCalendar 日历带价格插件\n * @param    url      {url}           请求的链接\n * @param    date     {string||array} 初始时间 string格式：2017-1-10 array格式：['2017-1-10','2017-1-10'] 起止时间\n * @param  \tminDate   {string}        拼组团请求日历的时候 最小的可选择时间  '2017-1-10'\n * @param  \tmaxDate   {string}        拼组团请求日历的时候 最大的可选择时间  '2017-1-10'\n * @param    mode     {string}        日历插件类型 single或者range\n * @param    data     {object}        请求附带的参数\n * @param    change   {function}      插件选中值后的回调\n * @return\n */\nwindow.payCalendar = (function(){\n    var calendar = {\n        init: function(trigger, config) {\n            this.trigger = $(trigger);\n            this.date;\n            //配置\n            this.config = {\n                url: '',\n                eventType:'click',\n                mode:'single',\n                date: '',\n                data: {},\n                minDate: '',\n                maxDate: '',\n                change: function(params) {}\n            };\n            // 默认参数扩展\n            if (config && $.isPlainObject(config)) {\n                $.extend(this.config, config, true);\n            };\n            this.date = this.config.date;\n            var date;\n            if(typeof this.config.date == 'string'){\n                date = this.config.date ? this.config.date.split('-') : '';\n\n            } else if(typeof this.config.date == 'object') {\n                date = this.config.date[0] ? this.config.date[0].split('-') : '';\n                this.startDate = this.date[0];\n                this.rangeEndDate = this.date[1];\n            }\n\n            if(this.config.minDate){\n                today = new Date(this.config.minDate);\n            }\n\n            if(date.length === 3){\n                this.year = parseInt(date[0]);\n                this.month = parseInt(date[1]);\n                this.day =parseInt(date[2]);\n            }else{\n                this.year = today.getFullYear();\n                this.month = today.getMonth() + 1;\n            }\n            this.config.data.month = this.year + '-' + this.formatNumber(this.month);\n            if(this.config.maxDate){\n                this.endDate = this.config.maxDate.split('-');\n            }\n            this.eventBind();\n        },\n        eventBind:function(){\n            var config = this.config;\n            var _self = this;\n            //this.trigger.on(config.eventType,popCalendar);\n            popCalendar();\n            function popCalendar(){\n                $(\"html\").addClass(\"no-scroll\");\n                // 渲染dom\n                _self.payCalendar = $('<div class=\"payCalendar\"></div>');\n                // _self.calendarMask = $('<p class=\"ui-calendar-mask\"></p>');\n                _self.calendar = $('<div class=\"ui-calendar\"></div>');\n\n                var calendarHtml = '<div class=\"ui-calendar-hd\">' +\n                    '<span class=\"prev\"><i class=\"daq-icon\">&#xe6b2;</i>上一月</span>' +\n                    '<h2 class=\"title\">2017年11月</h2>' +\n                    '<span class=\"next\">下一月<i class=\"daq-icon\">&#xe6b1;</i></span>' +\n                    '</div>' +\n                    '<div class=\"ui-calendar-bd\">' +\n                    '<div class=\"ui-calendar-bd-bg\"></div>' +\n                    '<table>' +\n                    '<thead>' +\n                    '<tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr>' +\n                    '</thead>' +\n                    '<tbody>' +\n                    '<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n                    '<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n                    '<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n                    '<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n                    '<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n                    '<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' +\n                    '</tbody>' +\n                    '</table>' +\n                    '</div>';\n                _self.calendar.html(calendarHtml);\n                _self.payCalendar.append(_self.calendar);\n\n                //$(\"body\").append(_self.payCalendar);\n                $(_self.trigger).html(_self.payCalendar);\n                //_self.calendarMask.on(\"click\",_self.hide);\n                _self.btnClick();\n\n                if (_self.year === today.getFullYear() && _self.month === (today.getMonth() + 1)) {\n                    _self.calendar.find('.prev').addClass('disabled');\n                };\n                _self.loadCalendar(_self.config);\n                _self.formatter();\n            }\n        },\n        // 格式化数字\n        formatNumber:function(n) {\n            n = parseInt(n);\n            return n < 10 ? \"0\" + n : n;\n        },\n        //获取最大值到最小值的数组\n        initYears:function(max, min) {\n            var arr = [];\n            for (var i = (min || 1950); i <= (max || 2030); i++) {\n                arr.push(i);\n            }\n            return arr;\n        },\n        //获取天数\n        getDays:function(max) {\n            var days = [];\n            for (var i = 1; i <= (max || 31); i++) {\n                days.push(i < 10 ? \"0\" + i : i);\n            };\n            return days;\n        },\n        //根据月年获取天数\n        getDaysByMonthAndYear:function(month, year) {\n            var int_d = new Date(year, parseInt(month) + 1 - 1, 1),\n                _self = this;\n            var d = new Date(int_d - 1);\n            return _self.getDays(d.getDate());\n        },\n        //格式化数字\n        formatNumber:function(n) {\n            n = parseInt(n);\n            return n < 10 ? \"0\" + n : n;\n        },\n        //获取星期几\n        getWeek: function() {\n            return new Date(this.year,this.month-0-1,'01').getDay();\n        },\n        //上一页\n        prev: function() {\n            var _self = this;\n            if (_self.calendar.find('.next').hasClass('disabled')) {\n                _self.calendar.find('.next').removeClass('disabled');\n            };\n            if (_self.calendar.find('.prev').hasClass('disabled')) {\n                return false;\n            };\n            if (_self.month <= 1) {\n                _self.year--;\n                _self.month = 12;\n            } else {\n                _self.month--;\n            }\n            _self.config.data.month = _self.year + '-' + _self.formatNumber(_self.month);\n            _self.loadCalendar(_self.config);\n            _self.formatter();\n\n            if (_self.year === today.getFullYear() && _self.month === (today.getMonth() + 1)) {\n                _self.calendar.find('.prev').addClass('disabled');\n            };\n        },\n        //下一页\n        next: function() {\n            var _self = this;\n            if (_self.calendar.find('.prev').hasClass('disabled')) {\n                _self.calendar.find('.prev').removeClass('disabled');\n            };\n            if(_self.calendar.find('.next').hasClass('disabled')){\n                return false;\n            };\n            if (_self.month >= 12) {\n                _self.year++;\n                _self.month = 1;\n            } else {\n                _self.month++;\n            }\n            _self.config.data.month = _self.year + '-' + _self.formatNumber(_self.month);\n            _self.loadCalendar(_self.config);\n            _self.formatter();\n\n            if(_self.year === parseInt(_self.endDate[0]) && _self.month === parseInt(_self.endDate[1])){\n                _self.calendar.find('.next').addClass('disabled');\n            };\n        },\n        //格式化\n        formatter: function() {\n            var _self = this;\n            _self.payCalendar.find(\".title\").html(_self.year + '年' + _self.formatNumber(_self.month) + '月');\n        },\n        //加载数据\n        loadCalendar: function(param) {\n            var $calendar = this.calendar,\n                date =param.data.month.split(\"-\");\n            _self = this,\n                // start = _self.getWeek() === 0 ? 0 : _self.getWeek() - 1,\n                $td = $calendar.find('td');\n            $td.html('');\n            var rp = {\n                url: _self.config.url,\n                data: param.data\n            }\n            tools.request(rp, function (res) {\n                if(!_self.endDate) {\n                    _self.endDate = res.data.maxDate.split('-');\n                }\n                var start;\n                if(res.data.hasOwnProperty(\"dataPrices\")){\n                    start = res.data.dataPrices.first - 1;\n                    res= res.data.dataPrices.datePrice;\n                } else if(res.data.hasOwnProperty(\"datePrice\")){\n                    start = res.data.first - 1;\n                    res = res.data.datePrice;\n                }\n                // start = start === 0 ? start : start -1;\n                $calendar.find(\"td\").removeClass(\"active\").removeClass('on');\n                _self.removeAttribute();\n\n                var $tds;\n                if(start > 0) {\n                    start-- ;\n                    $tds = $calendar.find('td:gt(' + start + ')');\n                } else {\n                    $tds = $calendar.find('td');\n                }\n                $tds.each(function(index, value) {\n                    if (index >= res.length) {\n                        return false;\n                    }\n\n                    $(this).addClass('bg-gray').html('<span class=\"date\">' + res[index]['date'] + '</span><span class=\"price\">' + (res[index].price != -1 ? '￥' + res[index].price : '') + '</span>');\n                    if (res[index].price != -1) {\n                        $(this).addClass('on').attr('data-price', res[index].price);\n                        $(this).attr('data-maxbuy', res[index].maxBuyNum);\n                        $(this).attr('data-minbuy', res[index].minBuyNum);\n                        $(this).attr('data-getdate', _self.formatNumber(index+1));\n                        $(this).attr('data-month',date[1]);\n                        $(this).attr('data-year',date[0]);\n                        $(this).attr(\"data-stock\",res[index].stock);\n                        $(this).attr(\"data-childPrice\",res[index].childPrice);\n                    } else {\n                        $(this).addClass('bg-gray')\n                    }\n                });\n                _self.addActive();\n            })\n        },\n        // 清除标td标签上的自定义属性\n        removeAttribute: function(){\n            this.calendar.find(\"td\").each(function(index,el) {\n                $(this).removeAttr('data-price');\n                $(this).removeAttr('data-maxbuy');\n                $(this).removeAttr('data-minbuy');\n                $(this).removeAttr('data-getdate');\n                $(this).removeAttr('data-month');\n                $(this).removeAttr('data-year');\n                $(this).removeAttr(\"data-stock\");\n                $(this).removeAttr(\"data-childPrice\");\n            });\n        },\n        // 日历销毁\n        hide: function(){\n            $(\"html\").removeClass(\"no-scroll\");\n            $('.payCalendar').remove();\n            this.payCalendar=null;\n            this.calendarMask=null;\n            this.calendar = null;\n        },\n        // 日历按钮点击事件\n        btnClick:function(){\n            this.clicknum = 0;\n            var _self = this;\n            //下一月\n            _self.payCalendar.find('.ui-calendar .next').on('click', function() {\n                if(_self.year === parseInt(_self.endDate[0]) && _self.month === parseInt(_self.endDate[1])){\n                    $(this).addClass('disabled')\n                    return false;\n                };\n                if($(this).is('.disabled')){\n                    return false;\n                }\n                _self.next();\n            });\n            //上一月\n            _self.payCalendar.find('.ui-calendar .prev').on('click', function() {\n                _self.prev();\n            });\n            // 选择日期\n            _self.payCalendar.on('click','.ui-calendar td.on', function() {\n                var $this = $(this);\n                if(_self.config.mode=='single'){\n                    _self.singleOnchage($this);\n                } else if(_self.config.mode == 'range'){\n                    _self.rangeOnchage($this);\n                }\n            });\n        },\n        // 单独日期选择\n        singleOnchage:function($el){\n            var _self = this;\n            _self.payCalendar.find('.ui-calendar td').removeClass('active');\n            $el.addClass('active');\n            _self.day =  $el.data('getdate');\n            _self.month = _self.month > 10 ? _self.month : '0' + parseInt(_self.month)\n            _self.date = _self.year + '-' + _self.month + '-' + _self.day;\n            typeof _self.config.change === 'function' && _self.config.change({\n                year: _self.year,\n                month: _self.month,\n                price: $el.attr('data-price'),\n                minBuy: $el.attr('data-minbuy'),\n                maxBuy: $el.attr('data-maxbuy'),\n                getDate: $el.attr('data-getdate'),\n                stock:$el.attr(\"data-stock\"),\n                date:_self.date,\n                childPrice:$el.attr(\"data-childPrice\")\n            });\n            //_self.hide();\n        },\n        // 日期段选择\n        rangeOnchage:function($el) {\n            var _self = this;\n            var date = $el.attr(\"data-year\") + '-' + $el.attr(\"data-month\") +'-' +$el.attr(\"data-getdate\");\n            if(_self.clicknum ==0){\n                $td = _self.calendar.find(\"td\");\n                $td.removeClass(\"active\");\n                $el.addClass(\"active\");\n                _self.rangeStart = $el;\n                _self.startDate = date;\n                $el.attr(\"data-date\",date);\n                _self.clicknum ++;\n            } if(_self.clicknum ==1 && !$el.is(\".active\")){\n                var dateFlag = _self.compareDate(_self.startDate,date);\n                if(dateFlag){\n                    _self.rangeEndDate = _self.rangeStart.attr(\"data-date\");\n                    _self.startDate = date;\n                    _self.rangeStart = $el;\n                }else {\n                    _self.rangeEndDate = date;\n                }\n                _self.date = [_self.startDate,_self.rangeEndDate];\n\n                typeof _self.config.change === 'function' && _self.config.change({\n                    price: _self.rangeStart.attr('data-price'),\n                    minBuy: _self.rangeStart.attr('data-minbuy'),\n                    maxBuy: _self.rangeStart.attr('data-maxbuy'),\n                    stock:_self.rangeStart.attr(\"data-stock\"),\n                    date:_self.date,\n                    startDate:_self.startDate,\n                    endDate:_self.rangeEndDate,\n                    childPrice:_self.rangeStart.attr(\"data-childPrice\")\n                });\n\n                _self.clicknum = 0; //重置点击计数器\n                //_self.hide();\n            }\n        },\n        /**\n         * [compareDate 比较日期大小]\n         * @param  {string} date1 [日期1]\n         * @param  {string} date2 [日期2]\n         * @return {boolen}       date1>date2 ? true :false\n         */\n        compareDate:function(date1,date2){\n            var time1 = new Date(date1.replace(/\\-/g, \"\\/\")).getTime();\n            var time2 = new Date(date2.replace(/\\-/g, \"\\/\")).getTime();\n            if(time1 > time2){\n                return true;\n            }else{\n                return false;\n            }\n        },\n        // 初始化日历时 为日历对应日期添加选中状态\n        addActive:function() {\n            var _self = this;\n            var $td = _self.calendar.find(\"td\");\n            if(_self.config.mode == 'single') {\n                var selectDate = _self.date.split(\"-\");\n                var selectDay = selectDate[2],\n                    selcetMon = selectDate[1],\n                    selectYear =selectDate[0];\n                $td.each(function(index, el) {\n                    if($(this).attr('data-getdate')-0 === selectDay-0 && selcetMon-0 === $(this).attr('data-month')-0 && selectYear-0 === $(this).attr('data-year')-0){\n                        $(this).addClass(\"active\");\n                        return;\n                    }\n                });\n                return;\n            }  else if(_self.config.mode == 'range') {\n                var startDate = _self.startDate.split(\"-\");\n                var\tendDate = _self.rangeEndDate.split(\"-\");\n                var startDay = parseInt(startDate[2]),\n                    startMon = parseInt(startDate[1]),\n                    startYear =parseInt(startDate[0]),\n                    endDay = parseInt(endDate[2]),\n                    endMon = parseInt(endDate[1]),\n                    endYear =parseInt(endDate[0]);\n                $td.each(function(index, el) {\n                    if( $(this).attr('data-year')/1-startYear >= 0 && endYear- $(this).attr('data-year')/1 >= 0){\n                        if( $(this).attr('data-month')/1-startMon >= 0 && endMon- $(this).attr('data-month')/1 >= 0){\n                            if( $(this).attr('data-getdate')/1-startDay >= 0 && endDay- $(this).attr('data-getdate')/1 >= 0){\n                                $(this).addClass(\"active\");\n                            }\n                        }\n                    }\n\n                });\n\n\n            }\n\n        }\n\n    };\n    return calendar;\n})();\n/**\n * Created by 龚小虎 on 2018/8/21.\n */\n","/**\n * Created by chengwb on 2016/11/8.\n */\n(function(global, $, undefined){\n    global.tools = global.tools || {};\n\n    /**\n     * 翻页；可以使用，待后续优化；\n     * @param option\n     * {\n     *  selector: 翻页的容器选择器，默认值为'.page'\n     *  total: 总页数\n     *  currPage: 当前页数\n     *  homeClass: 首页按钮样式class，默认为'first-page'\n     *  lastClass: 尾页按钮样式class，默认为'last-page'\n     *  nextClass: 下一页按钮样式class，默认为'page-down'\n     *  prevClass: 上一页按钮样式class，默认为'page-up'\n     *  click: 页码点击事件处理方法\n     *  params: 点击事件处理方法的参数\n     * }\n     */\n    global.tools.pageTurn = function(option) {\n        var totalPages = option.total;\n        var currPage = option.currPage;\n        var homeClass = option.homeClass || 'first-page';\n        var lastClass = option.lastClass || 'last-page';\n        var nextClass = option.nextClass || 'page-down';\n        var prevClass = option.prevClass || 'page-up';\n        var container = option.selector || '.page';\n        var params = option.params || {};\n\n        //一个多面存在多个翻页时，点击事件避免覆盖\n        global._pageTurnClick = global._pageTurnClick || [];\n        global._pageTurnClick.push(option.click);\n\n        if(!totalPages || !currPage || totalPages <= 0 || currPage <= 0){\n            return;\n        }\n\n        if(currPage > totalPages) {\n            currPage = totalPages;\n        }\n\n        var html = '';\n        var home = currPage === 1 ? 0 : 1;\n        var prev = currPage === 1 ? 0 : currPage - 1;\n        var last = currPage === totalPages ? 0 : totalPages;\n        var next = currPage === totalPages ? 0 : currPage + 1;\n        var limits = option.limits || 3;//单边限制，设置为n则最多显示2n-1项\n        var pageNum = 0;\n        var i = 0;\n\n        //限制1-5，默认为3\n        if(limits <= 0) {\n            limits = 1;\n        } else if(limits > 5) {\n            limits = 5;\n        }\n\n        //生成onclick字符串\n        function isClick(page) {\n            if(page && page !== currPage) {\n                params.page = page;\n                return ' valid\" onclick=\"_pageTurnClick[' + (global._pageTurnClick.length-1) + '](' + JSON.stringify(params).replace(/\"/g, '\\'')  + ')\"';\n            } else {\n                params.page = 0;\n                return ' invalid\"';\n            }\n        }\n\n        //翻页的首部\n        html += '<a class=\"' + homeClass + isClick(home) + '>首页</a>';\n        html += '<a class=\"' + prevClass + isClick(prev) + '>上一页</a>';\n\n        //翻页中间部分处理\n        if(totalPages >= limits * 2 - 1) {//总页数大于等于总显示数时\n            if (currPage - limits > 0) {\n                html += '<a class=\"invalid\" style=\"font-weight: bold;\">...</a>';\n            }\n\n            if(totalPages - limits >= currPage) {//\n                var counts = 0;\n                for (i = limits - 1; i >= 0; i--) {\n                    pageNum = currPage - i;\n                    if (pageNum <= 0) {\n                        counts++;\n                        html += '<a class=\"' + (counts === currPage ? 'curr' : '') + isClick(counts) + '>' + counts + '</a>';\n                    } else {\n                        html += '<a class=\"' + (pageNum + counts === currPage ? 'curr' : '') + isClick(pageNum + counts) + '>' + (pageNum + counts) + '</a>';\n                    }\n                }\n\n                for (i = 1; i < limits; i++) {\n                    pageNum = (counts === 0 ? currPage + i : limits + i);\n                    if (pageNum > totalPages) {\n                        break;\n                    } else {\n                        html += '<a class=\"' + isClick(pageNum) + '>' + pageNum + '</a>';\n                    }\n                }\n\n                if (counts + currPage + limits <= totalPages) {\n                    html += '<a class=\"invalid\" style=\"font-weight: bold;\">...</a>';\n                }\n            } else {\n                for (i = totalPages - (limits * 2 - 2); i <= totalPages; i++) {\n                    html += '<a class=\"' + (currPage === i ? 'curr' : '') + isClick(i) + '>' + i + '</a>';\n                }\n            }\n        } else {//总页数小于总显示数时\n            for (i = 1; i <= totalPages; i++) {\n                html += '<a class=\"' + (currPage === i ? 'curr' : '') + isClick(i) + '>' + i + '</a>';\n            }\n        }\n\n        //翻页尾部\n        html += '<a class=\"' + nextClass + isClick(next) + '>下一页</a>';\n        html += '<a class=\"' + lastClass + isClick(last) + '>末页</a>';\n\n        $(container).html(html);\n        if(window._bd_share_main){\n            window._bd_share_main.init();\n        }\n\n    };\n})(window, jQuery);\n","/**\n * Created by 何小贵 on 2018/8/13.\n */\n(function() {\n    /**\n     * @param  {[String]} \t\turl\n     * @param  {[Bolean]}\t\ttype // 是否是电商接口\n     * @param  {object}\t\t    params // 是否是电商接口\n     * @param  {[Object]}\t\ttemplate  // 模板对象\n     * @param  {[Object]}      noDataTmpl // 没有数据加载的模板  默认添加暂无数据提示\n     * @param  {[Bolean]}\t\tpagination // 是否分页 默认不分页\n     * @param  {[Number]}\t\tsize   //每页条数\n     * @param  {[Number]}\t\tcurr  // 请求的第几页\n     * @param  {function}\t\tcallback  // data处理 可不传\n     * @param  {function}\t\tcomplete  // 加载完页面之后的执行方法\n     * @param  {function}\t\terror  // 请求出错的执行的方法\n     */\n    function RenderHtml(element, config) {\n        this.ele = element;\n        this.nodataTxt = '暂无数据！';\n        this.refreshTxt = '获取服务器数据失败，请尝试刷新浏览器页面！';\n        this.config = {\n            url: '',\n            type: false,\n            template: {},\n            pagination: false,\n            total: 0, // 总页数\n            size: 1, // 单页数量\n            curr: 1, // 当前页\n            page: 1, // 初始请求第几页\n            loading: false,\n            params: {}\n            //callback: function(res) {},\n            //complete: function(res) {},\n            //error: function(res){}\n        };\n        // 默认参数扩展\n        if (config && $.isPlainObject(config)) {\n            $.extend(this.config, config);\n        }\n    }\n    RenderHtml.prototype = {\n        /**\n         * 初始化\n         */\n        init: function() {\n            var _this = this,\n                config = _this.config;\n            if (config.pagination) {\n                _this.page = $('<div class=\"page js_page\"></div>');\n                //判断是否有分页\n                if ($('.js_page').length >= 1) {\n                    $('.js_page').remove();\n                }\n                _this.ele.after(_this.page);\n                _this.flag = true;\n                config.params.page = config.curr;\n                config.params.limitPage = config.size;\n                _this.loadRender(config.params);\n            } else {\n                config.params.page = config.curr;\n                config.params.limitPage = config.size;\n                _this.loadRender(config.params);\n            }\n        },\n        /**\n         * 加载模版\n         * @param  {[Object]}  params\n         * @return {[Undefind]}\n         */\n        loadRender: function(params) {\n            var _this = this,\n                config = _this.config;\n            _this.ele.empty();\n            var questParam = {\n                url: config.url,\n                type: config.type,\n                data: params\n            };\n            if(config.loading) {\n                var loading = tools.loading(_this.ele);\n            }\n            tools.request(questParam, function(res){\n                if(config.loading) {\n                    loading.clean();\n                }\n                if (res.code === 0) {\n                    var data = res.datas || res.data;\n                    if (config.callback && typeof config.callback === 'function') {\n                        data = config.callback(data);\n                    }\n                    if (res.page && config.pagination) {\n                        _this.config.curr = res.page.currPage;\n                        _this.config.size = res.page.pageSize;\n                        _this.config.total = res.page.totalPage;\n                        _this.loadPage();\n                    }\n                    //是数组\n                    if ($.isArray(data)) {\n                        if (!data.length) {\n                            if(_this.ele.is('ul')){\n                                _this.ele.append('<li class=\"no-data\">'+ _this.nodataTxt +'</li>');\n                            } else {\n                                if(config.noDataTmpl) {\n                                    config.noDataTmpl.tmpl().appendTo(_this.ele);\n                                } else {\n                                    _this.ele.append('<div class=\"no-data\">'+ _this.nodataTxt +'</div>');\n                                }\n                            }\n                        } else {\n                            config.template.tmpl({list: data}).appendTo(_this.ele);\n                        }\n                    } else { // 不是数组\n                        config.template.tmpl({data: data}).appendTo(_this.ele);\n                    }\n                    setTimeout(function(){\n                        config.complete && config.complete(res);\n                    });\n                } else if (res.code === 2) {\n                    tools.doLogin();\n                } else {\n                    config.error && config.error();\n                    if(_this.ele.is('ul')){\n                        _this.ele.append('<li class=\"no-data\">'+ res.message +'</li>');\n                    } else {\n                        _this.ele.append('<div class=\"no-data\">'+ res.message +'</div>');\n                    }\n                }\n            });\n        },\n        /**\n         * 加载分页\n         * @return {Undefind}\n         */\n        loadPage: function() {\n            var _this = this,\n                config = _this.config;\n            if (config.pagination) {\n                var option = {\n                   total: config.total,\n                   currPage: config.curr,\n                   click: function (data) {\n                       config.params.page = data.page;\n                       $(window).scrollTop(0);\n                       _this.loadRender(config.params);\n                   }\n               };\n               tools.pageTurn(option);\n            }\n        }\n    };\n    // 添加到window对象上\n    window.RenderHtml = RenderHtml;\n    //封装到jquery对象上去\n    $.fn.renderHtml = function(config) {\n        var renderHtml = new RenderHtml(this, config);\n        return renderHtml.init();\n    }\n})(window.jQuery || $);\n","/* Created by 何小贵 on 2018/8/28.\n */\n(function() {\n    /**\n     * @param  {[String]}       url\n     * @param  {[Bolean]}       type // 是否是电商接口\n     * @param  {object}         params // 是否是电商接口\n     * @param  {[Object]}       template  // 模板对象\n     * @param  {[Object]}      noDataTmpl // 没有数据加载的模板  默认添加暂无数据提示\n     * @param  {[Bolean]}       pagination // 是否分页 默认不分页\n     * @param  {[Number]}       size   //每页条数\n     * @param  {[Number]}       curr  // 请求的第几页\n     * @param  {function}       callback  // data处理 可不传\n     * @param  {function}       complete  // 加载完页面之后的执行方法\n     * @param  {function}       error  // 请求出错的执行的方法\n     */\n    function RoolLoading (element, config) {\n        this.ele = element;\n        this.nodataTxt = '暂无数据！';\n        this.refreshTxt = '获取服务器数据失败，请尝试刷新浏览器页面！';\n        this.isScroll = false;\n        this.isFirstLoad = true;\n        this.config = {\n            url: '',\n            type: false,\n            template: {},\n            total: 0, // 总页数\n            size: 1, // 单页数量\n            curr: 1, // 当前页\n            page: 1, // 初始请求第几页\n            columnWidth: 0, // 单个宽度\n            waterFallEle: '',\n            padding: 0,\n            loading: false,\n            params: {}\n            // callback: function(res) {},\n            // complete: function(res) {},\n            // error: function(res){}\n        };\n        // 默认参数扩展\n        if (config && $.isPlainObject(config)) {\n            $.extend(this.config, config);\n        }\n    }\n    RoolLoading.prototype = {\n        /**\n         * 初始化\n         */\n        init: function() {\n            var _this = this,\n                config = _this.config;\n            config.params.page = config.curr;\n            config.params.limitPage = config.size;\n\n            _this.isScroll = false;\n\n            //计算高度\n            _this.arrHeight = [];\n            var width = _this.ele.outerWidth(true);\n            //计算每行最多放多少列\n            if(config.columnWidth){\n                _this.num = Math.floor(width / config.columnWidth);\n                _this.margin = Math.floor((width - _this.num * config.columnWidth) / (_this.num - 1));\n                config.columnWidth = config.columnWidth - config.padding * 2;\n            }\n\n            _this.loadRender(config.params);\n            _this.scrollEvent(); //滚动加载事件判断\n        },\n        /**\n         * [getMinHeight 获取最小高度的下标]\n         * @param  {[Object]} arr [_this.arrHeight]\n         * @return {Number} [最小高度的下标]\n         */\n        getMinHeight: function(arr) {\n            var minHeight = Math.min.apply(null, arr);\n            for (var i in arr) {\n                if (arr[i] === minHeight) {\n                    return i;\n                }\n            }\n        },\n        // 滚动事件\n        scrollEvent: function(){\n            var _this = this;\n            var scrollTimer;\n            $(window).off(\"scroll\").on(\"scroll\",function(){\n                scrollTimer = setTimeout(scrollFun,100);\n            });\n            function scrollFun() {\n                clearTimeout(scrollTimer);\n                var scrollTop = $(this).scrollTop();    //滚动条距离顶部的高度\n                var scrollHeight = $(document).height();   //当前页面的总高度\n                var clientHeight = $(this).height();    //当前可视的页面高度\n                if( scrollHeight <= scrollTop + clientHeight + 100){   //距离顶部+当前高度 >=文档总高度 即代表滑动到底部\n                    if(!_this.isScroll){\n                        $(window).off(\"scroll\");\n                        return false;\n                    }\n                    _this.config.curr++;\n                    var config = _this.config;\n                    if(config.curr <= config.total) {\n                        config.params.page = config.curr;\n                        config.params.limitPage = config.size;\n                        _this.loadRender(config.params);\n                    } else {\n                        _this.addNoMoreData();\n                    }\n                    _this.isScroll=false;\n                }\n            }\n        },\n        addNoMoreData: function(){\n            var _this = this;\n            if(_this.ele.is('ul')){\n                _this.ele.append('<li class=\"no-more\">已经到底了</li>');\n            } else {\n                _this.ele.append('<div class=\"no-more\">已经到底了</div>');\n            }\n        },\n        /**\n         * 加载模版\n         * @param  {[Object]}  params\n         * @return {[Undefind]}\n         */\n        loadRender: function(params) {\n            var _this = this,\n                config = _this.config;\n            var questParam = {\n                url: config.url,\n                type: config.type,\n                data: params\n            };\n            if(config.params.page === 1) {\n                _this.ele.empty();\n                _this.ele.prop('style', '');\n            }\n            if(config.loading) {\n                var loading = tools.loading(_this.ele, 'after');\n            }\n            tools.request(questParam, function(res){\n                if(config.loading) {\n                    loading.clean();\n                }\n                if (res.code === 0) {\n                    var data = res.datas || res.data;\n                    if (config.callback && typeof config.callback === 'function') {\n                        data = config.callback(data);\n                    }\n                    if (res.page) {\n                        if( res.page.currPage < res.page.totalPage) {\n                            _this.isScroll = true;\n                        } else {\n                            _this.isScroll = false;\n                            _this.addNoMoreData();\n                        }\n                        _this.config.curr = res.page.currPage;\n                        _this.config.size = res.page.pageSize;\n                        _this.config.total = res.page.totalPage;\n                    }\n                    //是数组\n                    if ($.isArray(data)) {\n                        if (!data.length) {\n                            if(_this.ele.is('ul')){\n                                _this.ele.append('<li class=\"no-data\">'+ _this.nodataTxt +'</li>');\n                            } else {\n                                if(config.noDataTmpl) {\n                                    config.noDataTmpl.tmpl().appendTo(_this.ele);\n                                } else {\n                                    _this.ele.append('<div class=\"no-data\">'+ _this.nodataTxt +'</div>');\n                                }\n                            }\n                        } else {\n                            config.template.tmpl({list: data}).appendTo(_this.ele);\n                        }\n                    } else { // 不是数组\n                        config.template.tmpl({data: data}).appendTo(_this.ele);\n                    }\n                    if(_this.config.waterFallEle){\n                        setTimeout(function(){\n                            _this.waterFall();\n                        });\n                    }\n                    config.complete && config.complete(res);\n                } else if (res.code === 2) {\n                    tools.doLogin();\n                } else {\n                    config.error && config.error();\n                    if(_this.ele.is('ul')){\n                        _this.ele.append('<li class=\"no-data\">'+ res.message +'</li>');\n                    } else {\n                        _this.ele.append('<div class=\"no-data\">'+ res.message +'</div>');\n                    }\n                }\n            });\n        },\n        waterFall: function(){\n            var _this = this;\n            //获取列表\n            var $items = _this.ele.find(_this.config.waterFallEle).fadeIn(500);\n            var config = _this.config;\n            //遍历列表\n            $items.each(function(index, dom) {\n                if (index < _this.num) {\n                    _this.arrHeight[index] = ($(dom).outerHeight(true));\n                    //添加样式\n                    $(dom).css({\n                        'width': config.columnWidth,\n                        'left': config.columnWidth * index + _this.margin * (index % _this.num) + config.padding * 2 * (index % _this.num),\n                        'top': 0\n                    });\n                } else {\n                    //计算最小高的下标\n                    var min = _this.getMinHeight(_this.arrHeight);\n                    //添加样式\n                    $(dom).css({\n                        'width': config.columnWidth,\n                        'left': config.columnWidth * min + _this.margin * (min % _this.num) + config.padding * 2 * (index % _this.num),\n                        'top': _this.arrHeight[min]\n                    });\n                    _this.arrHeight[min] += $(dom).outerHeight(true);\n                };\n            });\n            //填充盒子的高度\n            _this.ele.css('padding-top', Math.max.apply(null, _this.arrHeight) + 20);\n        }\n    };\n    // 添加到window对象上\n    window.RoolLoading = RoolLoading;\n    //封装到jquery对象上去\n    $.fn.roolLoading = function(config) {\n        var roolLoading = new RoolLoading(this, config);\n        return roolLoading.init();\n    }\n})(window.jQuery || $);\n","/**\n * Created by 何小贵 on 2018/8/17.\n */\n;(function($){\n    function Toast(config){\n        this.config = {\n            text:'我是toast提示',\n            icon:'',\n            delay : 3000\n        };\n        //默认参数扩展\n        if(config && $.isPlainObject(config)){\n            $.extend(this.config , config);\n        };\n        this.init();\n    }\n    Toast.prototype.init = function(){\n        var _this = this;\n        _this.body \t\t= $('body');\n        _this.toastWrap = $('<div class=\"ui-toast\">');\n        _this.toastIcon = $('<i class=\"icon\"></i>');\n        _this.toastText = $('<span class=\"ui-toast-text\">' + _this.config.text + '</span>');\n\n        _this._creatDom();\n        _this.show();\n        _this.hide();\n    };\n    Toast.prototype._creatDom = function(){\n        var _this = this;\n        if(_this.config.icon){\n            _this.toastWrap.append(_this.toastIcon.addClass(_this.config.icon));\n        }\n        _this.toastWrap.append(_this.toastText);\n        _this.body.append(_this.toastWrap);\n    };\n    Toast.prototype.show = function(){\n        var _this = this;\n        setTimeout(function(){\n            _this.toastWrap.removeClass('hide').addClass('show');\n        },50);\n    };\n    Toast.prototype.hide = function(){\n        var _this = this;\n        setTimeout(function(){\n            _this.toastWrap.removeClass('show').addClass('hide');\n            _this.toastWrap.remove();\n        },_this.config.delay);\n    };\n\n    window.Toast=Toast;\n    $.toast=function(config){\n        return new Toast(config);\n    }\n})(window.jQuery || $);\n","/**\n * Created by ts on 2016/12/20.\n * 备注：\n *  命名规则：函数的名称应该使用动词+名词，变量名则最好使用名词。\n *      常量区变量请全部用大写字母,且单词间用下划线链接；\n *      方法名、普通变量名请使用小驼峰命名规则，即除了第一个单词的首字母外其余单词首字母大写。\n */\n(function (global, $, undefined) {\n    global.tools = global.tools || {};\n\n\n    /***********************************************************\n     *********************** 方法区 *****************************\n     **********************************************************/\n    // 获取url参数\n    global.tools.getQueryString = function (name) {\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n        var r = window.location.search.substr(1).match(reg);\n        if (r != null) return unescape(r[2]);\n        return null;\n    };\n    global.tools.getUrlParams = function (name) {\n        return  global.tools.getQueryString(name);\n    };\n    /**\n     * 密码加密\n     * @param option\n     */\n    global.tools.AESEncrypt = function(word){\n        var key = CryptoJS.enc.Utf8.parse(\"AQ4S10D7d9K8c64D\");\n        var iv = CryptoJS.enc.Utf8.parse('dwvNVXzyXiq37u-A');\n        var srcs = CryptoJS.enc.Utf8.parse(word);\n        var encrypted = CryptoJS.AES.encrypt(srcs, key, {iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7});\n        return encrypted.toString();\n    };\n    /**\n     * 储存cookie\n     * @param option\n     */\n    global.tools.setCookie = function(cookieData){\n        var date = new Date();\n        if (cookieData.hour) {\n            date.setTime(date.getTime() + cookieData.hour * 60 * 60 * 1000);\n            var expires = \";expires=\" + date.toGMTString();\n        } else {\n            date.setTime(date.getTime() + cookieData.day * 24 * 60 * 60 * 1000);\n            var expires = \";expires=\" + date.toGMTString();\n        }\n        document.cookie = cookieData.name + \"=\" + cookieData.value + expires + \"; path=/\";\n    };\n    /**\n     * 读取cookie\n     * @param option\n     */\n    global.tools.getCookie = function(name){\n        var arr, reg = new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\");\n        if (arr = document.cookie.match(reg)) {\n            return unescape(arr[2]);\n        } else {\n            return null;\n        }\n    };\n    /**\n     * 删除cookie\n     * @param option\n     */\n    global.tools.delCookie = function(name){\n        this.setCookie({\n            name: name,\n            value: '',\n            day: -20\n        })\n    };\n    /**\n     * 获取配置信息\n     */\n    global.tools.config = {}\n    global.tools.getConfig = function (call) {\n        var sendParams = {\n            url: '/config/config',\n            data: {}\n        };\n        tools.request(sendParams, function (data) {\n            call&&call(data)\n            tools.config = data\n        });\n    };\n    /**\n     * praise=点赞，want=想去，gone=住过/去过统一交互接口\n     * @DateTime  2017-3-13T14:58:41+0800\n     * @param  {object}  options      所有参数\n     * @params {string}  selector     操作选择器\n     * @params {string}  type         praise=点赞，want=想去，gone=住过/去过\n     * @params {string}  resourceType 直接通过路径指定 {resourceType} picture=图片，\n     * @params {string}  resourceType video=视频，hotel=宾馆酒店，goods=旅游商品，news=新闻资讯，scenery=景区\n     * @params {number}  total        操作总数\n     * @params {number}  resourceId   id\n     * @params {number}  lang         语言参数\n     */\n    var currentId;\n    var currentArray = [];\n    tools.getInteraction= function(options){\n        var $selector = options.selector;\n        var error = \"失败\";\n        var hasDo = \"已操作\";\n        if(currentId != options.reId && $.inArray(options.reId,currentArray) == -1){\n            currentId = options.resourceId;\n            currentArray.push(options.resourceId);\n            var params = {\n                url : \"thumb/saveThumb\",\n                data:options\n            };\n            if(options.token){\n                tools.request(params,function(data){\n                    if(options.total == \"\"){\n                        options.total = 0;\n                    }\n                    if(data.code == 0){//第一次操作\n                        $selector.find(\"p\").html(\"点赞(\"+(Number(options.total) +1)+\")\");\n                        $selector.append('<em class=\"click_tips\" style=\"position: absolute\">+1</em>');\n                        $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                            $(this).remove();\n                        });\n\n                    }else if(data.code == 1){//操作失败\n                        $selector.append('<em class=\"click_tips\" style=\"position: absolute\">'+data.message+'</em>');\n                        $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                            $(this).remove();\n                        });\n                    }else{//已操作\n                        $selector.append('<em class=\"click_tips\" style=\"position: absolute\">'+hasDo+'</em>');\n                        $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                            $(this).remove();\n                        });\n                    }\n\n\n                });\n            }else {\n                window.location.href = \"login.html\";\n            }\n\n\n        }else{\n            $selector.append('<em class=\"click_tips\" style=\"position: absolute\">'+hasDo+'</em>');\n            $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                $(this).remove();\n            });\n            return;\n        }\n\n    };\n    //t推荐\n    tools.getRecommend= function(options){\n        var $selector = options.selector;\n        var error = \"失败\";\n        var hasDo = \"已操作\";\n        if(currentId != options.reId && $.inArray(options.reId,currentArray) == -1){\n            currentId = options.resourceId;\n            currentArray.push(options.resourceId);\n            var params = {\n                url : \"recommended/saveRecommend\",\n                data:options\n            };\n            if(options.token){\n                tools.request(params,function(data){\n\n                    if(options.total == \"\"){\n                        options.total = 0;\n                    }\n                    if(data.code == 0){//第一次操作\n                        $selector.find(\".num\").html((Number(options.total) +1));\n                        $selector.append('<em class=\"click_tips\" style=\"position: absolute\">+1</em>');\n                        $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                            $(this).remove();\n                        });\n\n                    }else if(data.code == 1){//操作失败\n                        $selector.append('<em class=\"click_tips\" style=\"position: absolute\">'+data.message+'</em>');\n                        $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                            $(this).remove();\n                        });\n                    }else{//已操作\n                        $selector.append('<em class=\"click_tips\">'+hasDo+'</em>');\n                        $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                            $(this).remove();\n                        });\n                    }\n\n\n                });\n            }else {\n                window.location.href = \"login.html\";\n            }\n\n\n        }else{\n            $selector.append('<em class=\"click_tips\">'+hasDo+'</em>');\n            $selector.find('em').animate({top: '-28px', 'opacity': '0'}, 950, function () {\n                $(this).remove();\n            });\n            return;\n        }\n\n    };\n    /**\n     * 统一跳出\n     * @param option\n     */\n    global.tools.jumpLogin = function(){\n        window.location.href = './login.html?redirect=' + encodeURIComponent(window.location.href);\n    };\n    global.tools.stringifyArray = function(array){\n        return JSON.stringify(array);\n    };\n    /**\n     * 收藏\n     * @param option\n     */\n    global.tools.setCollect = function(options){\n        var token = this.getCookie('token'),\n            _selector = options.selector,\n            _val = _selector.attr(\"data-value\");\n        var $num = options.num;\n        if (token) {\n            if (_val == 0) {\n                _selector.css(\"position\", \"relative\");\n                this.request({\n                    url: 'enshrine/saveEnshrine',\n                    data: {\n                        reId: options.id,\n                        sourceType: options.type,\n                        content: this.stringifyArray(options.content),\n                        target: this.stringifyArray(options.title),\n                        token:token\n                    }\n                },function (result) {\n                    if (result.code == 0) {\n                        if ($num) {\n                            $num.text(parseInt($num.text()) + 1);\n                        }\n                        _selector.append('<em class=\"click_tips\" style=\"position: absolute\">+1</em>');\n                        if(options.yl){\n                            _selector.css(\"color\",\"#ff993e\");\n                        }\n                        if(options.active){\n                            _selector.addClass(\"active\");\n                        }\n                        _selector.find('em').animate({\n                            top: '-28px',\n                            'opacity': '0'\n                        }, 950, function() {\n                            $(this).remove();\n                        });\n                        _selector.attr(\"data-value\", \"1\");\n                        _selector.find(\"p\").html('收藏('+(parseInt($num.text()))+')')\n                    } else {\n                        _selector.append('<em class=\"click_tips\" style=\"position: absolute\">已收藏</em>');\n\n                        _selector.find('em').animate({\n                            top: '-28px',\n                            'opacity': '0'\n                        }, 950, function() {\n                            $(this).remove();\n                        });\n                    }\n                })\n            } else {\n                _selector.append('<em class=\"click_tips\" style=\"position: absolute\">已收藏</em>');\n                _selector.find('em').animate({\n                    top: '-28px',\n                    'opacity': '0'\n                }, 950, function() {\n                    $(this).remove();\n                });\n            }\n        } else {\n            window.location = 'login.html';\n        }\n\n    }\n    /**\n     * 输入框数字输入控制\n     * @param params\n     * {\n     * el: object   css选择器\n     * max: number  最大值\n     * min: number  最小值\n     * default: number 默认值\n     * change: function 数值改变的回调 返回改变后的值\n     * }\n     * @returns {{init: init, event: event, update: update}}\n     */\n    global.tools.inputCount = function(param) {\n        function checkNumber(str) {\n            var reg = /^\\d+$/;\n            if (reg.test(str)) {\n                return true;\n            }\n            return false;\n        }\n        function objFn (params) {\n            this.obj = {\n                init: function () {\n                    this.oldval = '';\n                    this.config = {\n                        min: 0,\n                        max: 999999\n                    };\n                    if (params && $.isPlainObject(params)) {\n                        $.extend(this.config, params);\n                    }\n                    this.ipt = $(this.config.el).find('input');\n                    var btns = $(this.config.el).find('i');\n                    this.btn1 = btns.eq(0);\n                    this.btn2 = btns.eq(1);\n                    this.event();\n                    return this;\n                },\n                event: function () {\n                    var _this = this;\n                    $(this.config.el).prop('tabIndex',-1).css('outline',\"none\");\n                    this.oldval = this.config.default ? this.config.default : this.config.min;\n                    this.ipt.val(this.oldval);\n                    if(this.oldval > this.config.min){\n                        this.btn1.removeClass('dio-disable');\n                    } else {\n                        this.btn1.addClass('dio-disable');\n                    }\n                    if(this.config.min === this.config.max){\n                        this.btn1.addClass('dio-disable');\n                        this.btn2.addClass('dio-disable');\n                    } else{\n                        this.btn2.removeClass('dio-disable');\n                    }\n                    this.btn1[0].onclick = function(){\n                        var $el = $(this);\n                        if($el.is('.dio-disable')){\n                            return false;\n                        }\n                        var val = _this.ipt.val();\n                        val--;\n                        _this.oldval = val;\n                        _this.ipt.val(val);\n                        _this.changeBtnState();\n                    };\n                    this.btn2[0].onclick = function(){\n                        var $el = $(this);\n                        if($el.is('.dio-disable')){\n                            _this.ipt.removeClass('inp-opreate-hover');\n                            return false;\n                        }\n                        var val = _this.ipt.val();\n                        val++;\n                        _this.oldval = val;\n                        _this.ipt.val(val);\n                        _this.changeBtnState();\n                    };\n                    this.ipt[0].onkeyup = iptInput ;\n                    function iptInput(){\n                        var val = $(this).val();\n                        if(!checkNumber(val)){\n                            $(this).val(_this.oldval);\n                            return false;\n                        }\n                        if(val-0 < _this.config.min ) {\n                            $.daqMessage({\n                                text: '最小购买数量为' + _this.config.min,\n                                skin: 1,\n                                position: 'center',\n                                time: 1000\n                            });\n                            $(this).val(_this.oldval);\n                        } else if( val-0 > _this.config.max) {\n                            $.daqMessage({\n                                text: '最大购买数量为' + _this.config.max ,\n                                skin: 1,\n                                position: 'center',\n                                time: 1000\n                            });\n                            $(this).val(_this.oldval);\n                        } else {\n                            _this.oldval = val;\n                            _this.changeBtnState();\n                        }\n                    }\n                    $(this.config.el)[0].onblur = function (){\n                        iptBlur();\n                    };\n                    _this.ipt[0].onfocus = iptFocus;\n                    _this.ipt[0].onblur = iptBlur;\n                    function iptFocus(){\n                        _this.changeBtnState();\n                    }\n                    function iptBlur() {\n                        _this.ipt.removeClass('inp-opreate-hover');\n                        _this.btn1.removeClass('inp-opreate-curr');\n                        _this.btn2.removeClass('inp-opreate-curr');\n                    }\n                },\n                changeBtnState: function(){\n                    var val = this.ipt.val()-0;\n                    if( this.config.max === this.config.min) {\n                        this.ipt.removeClass('inp-opreate-hover');\n                        this.btn1.addClass('dio-disable').removeClass('inp-opreate-curr');\n                        this.btn2.addClass('dio-disable').removeClass('inp-opreate-curr');\n                    } else {\n                        if(val < this.config.max && val > this.config.min) {\n                            this.ipt.addClass('inp-opreate-hover');\n                            this.btn2.removeClass('dio-disable').addClass('inp-opreate-curr');\n                            this.btn1.removeClass('dio-disable').addClass('inp-opreate-curr');\n                        } else if(val >= this.config.max ) {\n                            this.ipt.removeClass('inp-opreate-hover');\n                            this.btn2.addClass('dio-disable').removeClass('inp-opreate-curr');\n                            this.btn1.removeClass('dio-disable').removeClass('inp-opreate-curr');\n                        } else if(val <= this.config.min) {\n                            this.ipt.removeClass('inp-opreate-hover');\n                            this.btn1.addClass('dio-disable').removeClass('inp-opreate-curr');\n                            this.btn2.removeClass('dio-disable').removeClass('inp-opreate-curr');\n                        }\n                    }\n                    this.config.change && this.config.change(val);\n                },\n                /**\n                 * @param param\n                 * {\n             *  max  number  最大值\n             *  min  number  最小值\n             *  val number   input框显示的值\n             * }\n                 */\n                update:function  (param) {\n                    this.config.max = param.max;\n                    this.config.min = param.min;\n                    if(this.oldval <= param.min) {\n                        this.oldval = param.min;\n                        this.ipt.val(param.min);\n                    } else if(this.oldval >= param.max) {\n                        this.oldval = param.max;\n                        this.ipt.val(param.max);\n                    } else if(this.oldval > param.min && this.oldval < param.max){\n                        if(param.val >= 0) {\n                            this.oldVal = param.val;\n                            this.ipt.val(param.val);\n                        }\n                    }\n                    this.changeBtnState();\n                }\n            };\n            this.obj.init();\n            return this.obj;\n        }\n        //return obj.init();\n        return new objFn(param);\n    };\n    /**\n     * 是否登录\n     * @param callback 如果登录了执行的回调\n     */\n    global.tools.isLogin = function(callback) {\n        if (!global.tools.getCookie('token')) {\n            global.tools.doLogin();\n            return false;\n        }\n        callback && callback();\n    };\n    // 统一登录处理\n    global.tools.doLogin = function() {\n        window.location.replace('./login.html?redirect=' + encodeURIComponent(window.location.href));\n    };\n    global.tools.goHome = function() {\n        window.location.href = './index.html';\n    };\n    /**\n     * 四则运算  计算小数的加减乘除出现误差的\n     * @param num1\n     * @param num2\n     * @returns {{}}\n     */\n    global.tools.math = function (arg1, arg2) {\n        return {\n            // 两数字之和\n            add: (function(arg1, arg2){\n               var r1, r2, m, c;\n               try {\n                   r1 = arg1.toString().split(\".\")[1].length;\n               }\n               catch (e) {\n                   r1 = 0;\n               }\n               try {\n                   r2 = arg2.toString().split(\".\")[1].length;\n               }\n               catch (e) {\n                   r2 = 0;\n               }\n               c = Math.abs(r1 - r2);\n               m = Math.pow(10, Math.max(r1, r2));\n               if (c > 0) {\n                   var cm = Math.pow(10, c);\n                   if (r1 > r2) {\n                       arg1 = Number(arg1.toString().replace(\".\", \"\"));\n                       arg2 = Number(arg2.toString().replace(\".\", \"\")) * cm;\n                   } else {\n                       arg1 = Number(arg1.toString().replace(\".\", \"\")) * cm;\n                       arg2 = Number(arg2.toString().replace(\".\", \"\"));\n                   }\n               } else {\n                   arg1 = Number(arg1.toString().replace(\".\", \"\"));\n                   arg2 = Number(arg2.toString().replace(\".\", \"\"));\n               }\n               return (arg1 + arg2) / m;\n           })(arg1, arg2),\n            // 两数只差\n            sub: (function(arg1, arg2){\n                var r1, r2, m, n;\n                try {\n                    r1 = arg1.toString().split(\".\")[1].length;\n                }\n                catch (e) {\n                    r1 = 0;\n                }\n                try {\n                    r2 = arg2.toString().split(\".\")[1].length;\n                }\n                catch (e) {\n                    r2 = 0;\n                }\n                m = Math.pow(10, Math.max(r1, r2)); //last modify by deeka //动态控制精度长度\n                n = (r1 >= r2) ? r1 : r2;\n                return Number(((arg1 * m - arg2 * m) / m).toFixed(n));\n            })(arg1, arg2),\n            // 两数相乘\n            mul: (function(arg1, arg2){\n                var m = 0, s1 = arg1.toString(), s2 = arg2.toString();\n                try {\n                    m += s1.split(\".\")[1].length;\n                }\n                catch (e) {\n                }\n                try {\n                    m += s2.split(\".\")[1].length;\n                }\n                catch (e) {\n                }\n                return Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\")) / Math.pow(10, m);\n            })(arg1, arg2),\n            // 两数相除\n            div: (function(arg1, arg2){\n                var t1 = 0, t2 = 0, r1, r2;\n                try {\n                    t1 = arg1.toString().split(\".\")[1].length;\n                } catch (e) {}\n                try {\n                    t2 = arg2.toString().split(\".\")[1].length;\n                } catch (e) {\n                } with (Math) {\n                    r1 = Number(arg1.toString().replace(\".\", \"\"));\n                    r2 = Number(arg2.toString().replace(\".\", \"\"));\n                    return (r1 / r2) * pow(10, t2 - t1);\n                }\n            })(arg1, arg2)\n        }\n    };\n\n    /**\n     * [regMatch 验证字符串格式]\n     * @param  {string} str  字符串\n     * @param  {string} name 格式\n     * @return {boolean}      是否符合对应的格式 符合返回true  不符合返回false\n     */\n    global.tools.regMatch = function (str, name) {\n        var regexp = null;\n        switch (name) {\n            case 'name':\n                regexp = /.{2,16}/;\n                break;\n            case 'pinyin':\n                regexp = /^[a-zA-Z]{4,50}$/;\n                break;\n            case 'phone':\n                regexp = /^1\\d{10}$/;\n                break;\n            case 'needPassengerInfoOther1':\n                regexp = /.+/;\n                break;\n            case 'needPassengerInfoOther2':\n                regexp = /.+/;\n                break;\n            case 'idcard':\n                regexp = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\n                break;\n            case 'HKAndMacauPermit':\n                regexp = /.+/;\n                break;\n            case 'Passport':\n                regexp = /(P\\d{7})|(G\\d{8})/;\n                break;\n            case 'TaiwanPermit':\n                regexp = /^[a-zA-Z0-9]{5,21}$/;\n                break;\n            case 'Idcard':\n                regexp = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\n                break;\n        }\n        return regexp.test(str);\n    };\n    // tools.getConfig();\n    /**\n     * 设置2级页面banner\n     */\n    global.tools.setTowLevelBanner = function () {\n        var $elment = $('.js_towlevelbanner')\n        var channelCode = tools.getUrlParams('channelCode')\n        var params = {\n            url: 'siteChannel/channelList',\n            data:{\n                channelCode: channelCode\n            }\n        };\n        tools.request(params, function(res){\n            var _html = []\n            var data = {},\n                len = 0\n                if(res.datas) {\n                    data = res.datas;\n                    len = res.datas.length;\n                }\n\n            if(res.code === 0) {\n                if(res.datas.length>0){\n                    // banner\n                    if(res.datas[0].navImage !== ''){\n                        $elment.html('<img src=\"'+res.datas[0].navImage+'\" alt=\"\">')\n                    }else{\n                        $elment.html('<img src=\"image/nobanner.jpg\" alt=\"\">')\n                    }\n                    // 面包削\n                    //当前位置\n                    _html.push('<i class=\"daq-icon ic-home\">&#xe729;</i>您当前的位置：');\n                    // console.log(data)\n                    if (data[0].name !== 'wzsy') {\n                        _html.push('<a href=\"./index.html\">网站首页</a>');\n                        _html.push('<i class=\"crumb-sign ' + ('-'== '&#xe618;' ? 'sysfont' : '') + '\">' + '-' + '</i>');\n                    };\n                    for (var i = 0; i < len; i++) {\n                        if (i === len - 1) {\n                            if(data[i].code != 'wzlm') {\n                                _html.push('<a href=\"' + (data[i].url.length ? decodeURIComponent(data[i].url) : \"javascript:;\") + '\" class=\"on\">' + ' ' + data[i].name + '</a>');\n                            }\n                        } else {\n                            if(data[i].code != 'wzlm') {\n                            _html.push('<a href=\"' + (data[i].url.length ? decodeURIComponent(data[i].url) : \"javascript:;\") + '\">' + ' ' + data[i].name + '</a>');\n                            _html.push('<i class=\"crumb-sign\">' + '-' + '</i>');\n                            }\n                        };\n                    };\n                    $('.js_curmbs').html(_html)\n                }else{\n                    $elment.html('<img src=\"image/nobanner.jpg\" alt=\"\">')\n                }\n            } else{\n                $elment.html('<img src=\"image/nobanner.jpg\" alt=\"\">')\n            }\n        })\n    }\n    global.tools.validate = function (value, type, minlength, maxlength) {\n        var value = $.trim(value);\n        // 非空验证\n        if ('require' === type) {\n            return !!value;\n        }\n        // 手机号验证\n        if ('phone' === type) {\n            return /^1\\d{10}$/.test(value);\n        }\n        // 邮箱格式验证\n        if ('email' === type) {\n            return /^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w{2,3}){1,3})$/.test(value);\n        }\n        //验证长度\n        if ('length' === type) {\n            if (value.length <= minlength || value.length >= maxlength) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        //汉字和字母验证规则\n        if ('chinese' === type) {\n            return /^([\\u4E00-\\uFA29]*[a-z]*[A-Z]*[0-9]*)+$/.test(value);\n        }\n    };\n    /**\n     * 高亮替换\n     * @param str  字符串\n     * @param key  关键字\n     */\n    global.tools.highLight = function(str, key){\n        var reg = new RegExp(\"(\"+ key +\")\",\"ig\");\n        str = str.replace(reg,\"<b class='high-light'>$1</b>\");\n        return str;\n    };\n})(window, jQuery);\n","(function (global, $, undefined) {\n    global.tools = global.tools || {};\n\n    /**\n     * 视频弹出层\n     * @param option\n     * {\n     *  list: 视频列表选择器，默认为‘.video-lst’\n     *  entry: 列表条目选择器，默认为‘li’\n     *  title: 视频名称选择器，默认为‘.video-h3’\n     *  video: 视频地址属性名(条目中的属性)，默认为‘data-src’\n     *  img: 图片选择器，默认为‘img.scale-pic’\n     *  play: 播放，默认为'.play-video'\n     * }\n     * @param played 点击播放后的回调事件\n     */\n    global.tools.popupVideo = function (option, played) {\n        var list = option.list || '.video-lst';\n        var entryElement = option.entry || 'li';\n        var titleElement = option.title || '.video-h3';\n        var imageElement = option.img || 'img.scale-pic';\n        var videoAttr = option.video || 'data-src';\n        var playClass = option.play || '.playVideo';\n\n        function closeDIV() {\n            $(\".popup-video\").remove();\n        }\n\n        $('body').on('click', '.popup-video .pop-remove', function () {\n            closeDIV();\n        });\n\n        $(list).on(\"click\", playClass, function (e) {\n            var $entry = $(this).parents(entryElement).eq(0);\n            var vedio_src = $entry.attr(videoAttr);\n            var imgSrc = $entry.find(imageElement).attr(\"src\");\n            var tit = $entry.find(titleElement).html();\n\n            var layer = '<div class=\"popup-video\"><div class=\"opa80 pop-remove\"></div>' +\n                '<a class=\"pop-close pop-remove\"></a>' +\n                '<div class=\"video-box\">' +\n                '<div class=\"video-cont\">' +\n                '<div id=\"vedio\" style=\"opacity:0; filter:alpha(opacity=0); -webkit-opacity:0; -moz-opacity:0;\"></div>' +\n                '<div class=\"vpro\"></div>' +\n                '</div>' +\n                '<div class=\"video-tit\">' +\n                '<span>' + tit + '</span>' +\n                // '<p><a class=\"share-video bds-more bdsharebuttonbox bdshare-button-style0-16\" title=\"\" data-cmd=\"more\" style=\"position: absolute;top: 0; z-index:99; margin:0;padding:0;right: 0;width:32px; height:32px; display:inline-block; \" data-bd-bind=\"1452487568673\"></a></p>' +\n                '</div>' +\n                '</div>' +\n                '</div>';\n\n            $(document.body).append(layer);\n\n            var _wid = $(\".video-cont\").width();\n            var _hei = $(\".video-cont\").height();\n            var s1 = new SWFObject(\"./flvplayer.swf\", \"single\", _wid, _hei, \"7\");\n            s1.addParam(\"allowfullscreen\", \"true\");\n            s1.addParam(\"wmode\", \"opaque\");\n            s1.addVariable(\"autostart\", \"true\");\t//打开时自动播放\n            s1.addVariable(\"backcolor\", \"0x000000\");\n            s1.addVariable(\"frontcolor\", \"0xCCCCCC\");\n            s1.addVariable(\"file\", vedio_src);\n            s1.addVariable(\"image\", imgSrc);\t//封面图片的调用\n            s1.addVariable(\"width\", _wid);\n            s1.addVariable(\"height\", _hei);\n            s1.write(\"vedio\");\n            $(\".opa80\").animate({opacity: 1}, 200);\n            setTimeout(function () {\n                $(\".pop-close\").animate({opacity: 1}, 200)\n            }, 100);\n            setTimeout(function () {\n                $(\".video-box\").animate({opacity: 1}, 200)\n            }, 100);\n            setTimeout(function () {\n                $(\".vpro\").animate({left: 0}, 500).fadeOut();\n            }, 200);\n            setTimeout(function () {\n                $(\"#vedio\").animate({opacity: 1}, 500)\n            }, 800);\n\n            if(played && typeof played === 'function') {\n                played($entry);\n            }\n        });\n    };\n})(window, jQuery);\n\n"]}